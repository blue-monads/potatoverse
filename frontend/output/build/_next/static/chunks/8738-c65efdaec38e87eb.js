"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8738],{993:(e,t,a)=>{a.d(t,{ii:()=>o.i,bH:()=>s});var c=a(4678),n=a(2115);let s=()=>{let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),[o,r]=(0,n.useState)(null),i=(()=>{let[e,t]=(0,n.useState)(!1),[a,c]=(0,n.useState)(null),s=(0,n.useCallback)(e=>{c(e),t(!0)},[]),o=(0,n.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{c(null)},150)},[a]),r=(0,n.useCallback)(e=>{a&&c({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:s,closeModal:o,updateModalContent:r}})(),[l,p]=(0,n.useState)(!1),d=()=>{let e=(0,c.MH)();(null==e?void 0:e.accessToken)?(r(e.userInfo),s(!0)):s(!1),t(!0)};return(0,n.useEffect)(()=>{e&&a&&(l||((0,c.Y3)(),p(!0)))},[e,a]),(0,n.useEffect)(()=>{d()},[]),{loaded:e,isAuthenticated:a,checkToken:d,logOut:()=>{(0,c.a1)(),r(null),s(!1)},logIn:(e,t)=>{(0,c.NC)(e,t),d()},userInfo:o,modal:i,isInitialized:l}};var o=a(8738);a(3588)},1886:(e,t,a)=>{a.d(t,{$V:()=>z,$c:()=>d,AC:()=>j,B9:()=>Y,BA:()=>_,Cs:()=>ee,De:()=>H,Ed:()=>C,H1:()=>ep,H4:()=>ey,IF:()=>x,K4:()=>m,Kh:()=>ed,Ku:()=>ew,Lv:()=>E,MA:()=>F,Nv:()=>es,Om:()=>ec,Oz:()=>p,P6:()=>el,Pj:()=>Z,QD:()=>u,QT:()=>X,Qf:()=>K,Qk:()=>en,Ql:()=>f,R5:()=>M,Sx:()=>V,T:()=>ea,TT:()=>$,TY:()=>et,Tv:()=>J,U8:()=>P,UP:()=>ex,VG:()=>Q,Y3:()=>o,YT:()=>B,ZN:()=>U,_Q:()=>eb,_m:()=>v,ct:()=>R,e0:()=>L,eK:()=>G,eq:()=>y,fB:()=>N,gw:()=>e_,iD:()=>r,iJ:()=>h,iQ:()=>k,iY:()=>I,ir:()=>g,iu:()=>w,j3:()=>b,lB:()=>q,lo:()=>i,mm:()=>em,no:()=>ef,q0:()=>W,qR:()=>eh,qf:()=>eo,rf:()=>eu,s2:()=>S,sI:()=>ev,si:()=>ek,tF:()=>T,to:()=>er,u1:()=>D,uP:()=>O,wz:()=>l,yj:()=>eg,yn:()=>A,z6:()=>ei});var c=a(3464),n=a(3999);let s=c.A.create({baseURL:"/zz/api"}),o=()=>{let e=(0,n.MH)(),t={"Content-Type":"application/json","X-Clacks-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),s=c.A.create({baseURL:"/zz/api",headers:t})},r=async(e,t)=>s.post("/core/auth/login",{username:e,password:t}),i=async()=>s.get("/core/user"),l=async e=>s.get("/core/user/".concat(e)),p=async()=>s.get("/core/user/invites"),d=async e=>s.post("/core/user/invites",e),u=async e=>s.delete("/core/user/invites/".concat(e)),y=async e=>s.post("/core/user/invites/".concat(e,"/resend")),g=async e=>s.get("/core/auth/invite/".concat(e)),f=async(e,t)=>s.post("/core/auth/invite/".concat(e),t),v=async e=>s.post("/core/user/create",e),m=async()=>s.get("/core/user/groups"),_=async e=>s.post("/core/user/groups",e),h=async(e,t)=>s.put("/core/user/groups/".concat(e),t),x=async e=>s.delete("/core/user/groups/".concat(e)),k=async e=>s.get("/core/self/portalData/".concat(e)),b=async()=>s.get("/core/self/info"),w=async e=>s.put("/core/self/bio",{bio:e}),C=async e=>s.post("/core/package/install",{url:e}),T=async e=>s.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),N=async(e,t)=>s.post("/core/package/install/embed",{name:e,repo_slug:t}),S=async e=>s.delete("/core/package/".concat(e)),j=async e=>s.post("/core/package/".concat(e,"/dev-token")),z=async e=>{let t=e?"?repo=".concat(encodeURIComponent(e)):"";return s.get("/core/package/list".concat(t))},O=async()=>s.get("/core/repo/list"),A=async()=>s.get("/core/space/installed"),Q=async e=>s.get("/core/package/".concat(e,"/info")),H=async(e,t)=>{let a=encodeURIComponent(t);return s.get("/core/engine/space_info/".concat(e,"?host_name=").concat(a.toString()))},B=async(e,t)=>{let a=window.location.hostname;return s.get("/core/engine/derivehost/".concat(e,"?host_name=").concat(a,"&space_id=").concat(t))},D=async(e,t)=>s.post("/core/space/authorize/".concat(e),{space_id:t}),F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s.get("/core/vpackage/".concat(e,"/files"),{params:{path:t}})},J=async(e,t)=>s.get("/core/vpackage/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),L=async(e,t)=>s.delete("/core/vpackage/".concat(e,"/files/").concat(t)),P=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=new FormData;return c.append("file",t),c.append("path",a),s.post("/core/vpackage/".concat(e,"/files/upload"),c,{headers:{"Content-Type":"multipart/form-data"}})},Y=async function(e,t,a,c){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await L(e,t);let o=new File([new Blob([a],{type:"text/plain"})],c,{type:"text/plain"}),r=new FormData;return r.append("file",o),r.append("path",n),s.post("/core/vpackage/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},K=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return s.get("/core/space/".concat(e,"/kv"),{params:{offset:t,limit:a}})},M=async(e,t)=>s.get("/core/space/".concat(e,"/kv/").concat(t)),I=async(e,t)=>s.post("/core/space/".concat(e,"/kv"),t),q=async(e,t,a)=>s.put("/core/space/".concat(e,"/kv/").concat(t),a),E=async(e,t)=>s.delete("/core/space/".concat(e,"/kv/").concat(t)),R=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s.get("/core/space/".concat(e,"/files"),{params:{path:t}})},U=async(e,t)=>s.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),V=async(e,t)=>s.delete("/core/space/".concat(e,"/files/").concat(t)),G=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=new FormData;return c.append("file",t),c.append("path",a),s.post("/core/space/".concat(e,"/files/upload"),c,{headers:{"Content-Type":"multipart/form-data"}})},$=async function(e,t,a,c){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await V(e,t);let o=new File([new Blob([a],{type:"text/plain"})],c,{type:"text/plain"}),r=new FormData;return r.append("file",o),r.append("path",n),s.post("/core/space/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},Z=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return s.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},W=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3?arguments[3]:void 0;return s.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:c})},X=async(e,t)=>{let a=new FormData;return a.append("file",t),c.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})},ee=async()=>s.get("/core/capability/types"),et=async(e,t,a)=>s.get("/core/space/".concat(e,"/capabilities"),{params:{...void 0!==t&&{space_id:t},...a&&{capability_type:a}}}),ea=async(e,t)=>s.post("/core/space/".concat(e,"/capabilities"),t),ec=async(e,t,a)=>s.put("/core/space/".concat(e,"/capabilities/").concat(t),a),en=async(e,t)=>s.delete("/core/space/".concat(e,"/capabilities/").concat(t)),es=async(e,t,a,c)=>s.get("/core/space/".concat(e,"/users"),{params:{...void 0!==t&&{space_id:t},...void 0!==a&&{user_id:a},...c&&{scope:c}}}),eo=async(e,t)=>s.post("/core/space/".concat(e,"/users"),t),er=async(e,t,a)=>s.put("/core/space/".concat(e,"/users/").concat(t),a),ei=async(e,t)=>s.delete("/core/space/".concat(e,"/users/").concat(t)),el=async(e,t,a)=>s.get("/core/space/".concat(e,"/events"),{params:{...void 0!==t&&{space_id:t},...a&&{event_key:a}}}),ep=async(e,t)=>s.get("/core/space/".concat(e,"/events/").concat(t)),ed=async(e,t)=>{let a={event_key:t.event_key,target_type:t.target_type,...void 0!==t.space_id&&{space_id:t.space_id},...t.target_endpoint&&{target_endpoint:t.target_endpoint},...t.target_options&&{target_options:"string"==typeof t.target_options?t.target_options:JSON.stringify(t.target_options)},...t.target_code&&{target_code:t.target_code},...void 0!==t.target_space_id&&{target_space_id:t.target_space_id},...t.rules&&{rules:"string"==typeof t.rules?t.rules:JSON.stringify(t.rules)},...t.transform&&{transform:"string"==typeof t.transform?t.transform:JSON.stringify(t.transform)},...void 0!==t.delay_start&&{delay_start:t.delay_start},...void 0!==t.retry_delay&&{retry_delay:t.retry_delay},...void 0!==t.max_retries&&{max_retries:t.max_retries},...t.extrameta&&{extrameta:"string"==typeof t.extrameta?t.extrameta:JSON.stringify(t.extrameta)},...void 0!==t.disabled&&{disabled:t.disabled}};return s.post("/core/space/".concat(e,"/events"),a)},eu=async(e,t,a)=>{let c={};return void 0!==a.event_key&&(c.event_key=a.event_key),void 0!==a.target_type&&(c.target_type=a.target_type),void 0!==a.space_id&&(c.space_id=a.space_id),void 0!==a.target_endpoint&&(c.target_endpoint=a.target_endpoint),void 0!==a.target_options&&(c.target_options="string"==typeof a.target_options?a.target_options:JSON.stringify(a.target_options)),void 0!==a.target_code&&(c.target_code=a.target_code),void 0!==a.rules&&(c.rules="string"==typeof a.rules?a.rules:JSON.stringify(a.rules)),void 0!==a.transform&&(c.transform="string"==typeof a.transform?a.transform:JSON.stringify(a.transform)),void 0!==a.delay_start&&(c.delay_start=a.delay_start),void 0!==a.retry_delay&&(c.retry_delay=a.retry_delay),void 0!==a.max_retries&&(c.max_retries=a.max_retries),void 0!==a.extrameta&&(c.extrameta="string"==typeof a.extrameta?a.extrameta:JSON.stringify(a.extrameta)),void 0!==a.disabled&&(c.disabled=a.disabled),s.put("/core/space/".concat(e,"/events/").concat(t),c)},ey=async(e,t)=>s.delete("/core/space/".concat(e,"/events/").concat(t)),eg=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a={limit:t};return null!=e&&(a.after_id=e),s.get("/core/user/messages",{params:a})},ef=async()=>s.get("/core/user/messages/new"),ev=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return s.get("/core/user/messages/history",{params:{limit:e}})},em=async e=>s.delete("/core/user/messages/".concat(e)),e_=async e=>s.post("/core/user/messages/".concat(e,"/read")),eh=async()=>s.post("/core/user/messages/read-all"),ex=async()=>s.get("/core/docs/docs_index.json"),ek=async e=>s.get("/core/docs/".concat(e)),eb=async e=>s.get("/capabilities/debug/".concat(e)),ew=async e=>s.get("/core/space/".concat(e,"/spec.json"))},3588:(e,t,a)=>{a.d(t,{A:()=>o});var c=a(5155),n=a(8738);let s=e=>{let{onClose:t}=e;return(0,c.jsx)("button",{className:"text-gray-400 hover:text-gray-600 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,c.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},o=()=>{let{modal:e}=(0,n.i)(),{isOpen:t,modalContent:a,closeModal:o}=e;return t&&a?(0,c.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:o}),(0,c.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,c.jsx)(s,{onClose:o}),a.title&&(0,c.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.title})}),(0,c.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,c.jsx)(s,{onClose:o})]})]}):null}},3999:(e,t,a)=>{a.d(t,{MH:()=>s,NC:()=>n,a1:()=>o});let c="_potato_login_info_",n=(e,t)=>{localStorage.setItem(c,JSON.stringify({accessToken:e,userInfo:t}))},s=()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):null},o=()=>{localStorage.removeItem(c)}},4678:(e,t,a)=>{a.d(t,{$V:()=>n.$V,AC:()=>n.AC,B9:()=>n.B9,Cs:()=>n.Cs,De:()=>n.De,Ed:()=>n.Ed,H1:()=>n.H1,H4:()=>n.H4,K4:()=>n.K4,Kh:()=>n.Kh,Lv:()=>n.Lv,MA:()=>n.MA,MH:()=>c.MH,NC:()=>c.NC,Nv:()=>n.Nv,Om:()=>n.Om,P6:()=>n.P6,Pj:()=>n.Pj,QT:()=>n.QT,Qf:()=>n.Qf,Qk:()=>n.Qk,R5:()=>n.R5,Sx:()=>n.Sx,T:()=>n.T,TT:()=>n.TT,TY:()=>n.TY,Tv:()=>n.Tv,U8:()=>n.U8,VG:()=>n.VG,Y3:()=>n.Y3,ZN:()=>n.ZN,_Q:()=>n._Q,_m:()=>n._m,a1:()=>c.a1,ct:()=>n.ct,e0:()=>n.e0,eK:()=>n.eK,fB:()=>n.fB,iY:()=>n.iY,lB:()=>n.lB,lo:()=>n.lo,q0:()=>n.q0,qf:()=>n.qf,rf:()=>n.rf,s2:()=>n.s2,tF:()=>n.tF,to:()=>n.to,u1:()=>n.u1,uP:()=>n.uP,yn:()=>n.yn,z6:()=>n.z6});var c=a(3999),n=a(1886)},8738:(e,t,a)=>{a.d(t,{H:()=>i,i:()=>r});var c=a(5155),n=a(2115),s=a(993);let o=(0,n.createContext)(null),r=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},i=e=>{let{children:t}=e,a=(0,s.bH)();return(0,c.jsx)(o.Provider,{value:a,children:t})}}}]);