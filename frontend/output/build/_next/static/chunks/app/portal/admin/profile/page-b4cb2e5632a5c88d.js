(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{993:(e,t,a)=>{"use strict";a.d(t,{ii:()=>c.i,bH:()=>n});var s=a(4678),r=a(2115);let n=()=>{let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[c,l]=(0,r.useState)(null),o=(()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),n=(0,r.useCallback)(e=>{s(e),t(!0)},[]),c=(0,r.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{s(null)},150)},[a]),l=(0,r.useCallback)(e=>{a&&s({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:n,closeModal:c,updateModalContent:l}})(),[i,d]=(0,r.useState)(!1),u=()=>{let e=(0,s.MH)();(null==e?void 0:e.accessToken)?(l(e.userInfo),n(!0)):n(!1),t(!0)};return(0,r.useEffect)(()=>{e&&a&&(i||((0,s.Y3)(),d(!0)))},[e,a]),(0,r.useEffect)(()=>{u()},[]),{loaded:e,isAuthenticated:a,checkToken:u,logOut:()=>{(0,s.a1)(),l(null),n(!1)},logIn:(e,t)=>{(0,s.NC)(e,t),u()},userInfo:c,modal:o,isInitialized:i}};var c=a(8738);a(3588)},1007:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1264:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},1886:(e,t,a)=>{"use strict";a.d(t,{$V:()=>z,$c:()=>u,BA:()=>y,De:()=>_,Ed:()=>k,IF:()=>b,K4:()=>f,Lv:()=>B,MA:()=>M,Oz:()=>d,Pj:()=>V,QD:()=>p,QT:()=>K,Qf:()=>I,Ql:()=>h,Sx:()=>O,Tv:()=>E,U8:()=>H,Y3:()=>c,ZN:()=>Q,_m:()=>g,ct:()=>D,e0:()=>F,eK:()=>q,eq:()=>m,fB:()=>A,iD:()=>l,iJ:()=>v,iQ:()=>j,iY:()=>P,ir:()=>x,iu:()=>w,j3:()=>N,lB:()=>U,lo:()=>o,q0:()=>Y,s2:()=>S,tF:()=>C,u1:()=>L,wz:()=>i,yn:()=>T});var s=a(3464),r=a(3999);let n=s.A.create({baseURL:"/zz/api"}),c=()=>{let e=(0,r.MH)(),t={"Content-Type":"application/json","X-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),n=s.A.create({baseURL:"/zz/api",headers:t})},l=async(e,t)=>n.post("/core/auth/login",{username:e,password:t}),o=async()=>n.get("/core/user"),i=async e=>n.get("/core/user/".concat(e)),d=async()=>n.get("/core/user/invites"),u=async e=>n.post("/core/user/invites",e),p=async e=>n.delete("/core/user/invites/".concat(e)),m=async e=>n.post("/core/user/invites/".concat(e,"/resend")),x=async e=>n.get("/core/auth/invite/".concat(e)),h=async(e,t)=>n.post("/core/auth/invite/".concat(e),t),g=async e=>n.post("/core/user/create",e),f=async()=>n.get("/core/user/groups"),y=async e=>n.post("/core/user/groups",e),v=async(e,t)=>n.put("/core/user/groups/".concat(e),t),b=async e=>n.delete("/core/user/groups/".concat(e)),j=async e=>n.get("/core/self/portalData/".concat(e)),N=async()=>n.get("/core/self/info"),w=async e=>n.put("/core/self/bio",{bio:e}),k=async e=>n.post("/core/package/install",{url:e}),C=async e=>n.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),A=async e=>n.post("/core/package/install/embed",{name:e}),S=async e=>n.delete("/core/package/".concat(e)),z=async()=>n.get("/core/package/list"),T=async()=>n.get("/core/space/installed"),_=async e=>n.get("/core/engine/space_info/".concat(e)),L=async(e,t)=>n.post("/core/space/authorize/".concat(e),{space_id:t}),M=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/package/".concat(e,"/files"),{params:{path:t}})},E=async(e,t)=>n.get("/core/package/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),F=async(e,t)=>n.delete("/core/package/".concat(e,"/files/").concat(t)),H=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/package/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},I=async e=>n.get("/core/space/".concat(e,"/kv")),P=async(e,t)=>n.post("/core/space/".concat(e,"/kv"),t),U=async(e,t,a)=>n.put("/core/space/".concat(e,"/kv/").concat(t),a),B=async(e,t)=>n.delete("/core/space/".concat(e,"/kv/").concat(t)),D=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/space/".concat(e,"/files"),{params:{path:t}})},Q=async(e,t)=>n.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),O=async(e,t)=>n.delete("/core/space/".concat(e,"/files/").concat(t)),q=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/space/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},V=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},Y=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;return n.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:s})},K=async(e,t)=>{let a=new FormData;return a.append("file",t),s.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})}},3588:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(5155),r=a(8738);let n=e=>{let{onClose:t}=e;return(0,s.jsx)("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,s.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},c=()=>{let{modal:e}=(0,r.i)(),{isOpen:t,modalContent:a,closeModal:c}=e;return t&&a?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:c}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,s.jsx)(n,{onClose:c}),a.title&&(0,s.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.title})}),(0,s.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,s.jsx)(n,{onClose:c})]})]}):null}},3717:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3999:(e,t,a)=>{"use strict";a.d(t,{MH:()=>n,NC:()=>r,a1:()=>c});let s="_tnx_login_info_",r=(e,t)=>{localStorage.setItem(s,JSON.stringify({accessToken:e,userInfo:t}))},n=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):null},c=()=>{localStorage.removeItem(s)}},4678:(e,t,a)=>{"use strict";a.d(t,{$V:()=>r.$V,De:()=>r.De,Ed:()=>r.Ed,K4:()=>r.K4,Lv:()=>r.Lv,MA:()=>r.MA,MH:()=>s.MH,NC:()=>s.NC,Pj:()=>r.Pj,QT:()=>r.QT,Qf:()=>r.Qf,Sx:()=>r.Sx,Tv:()=>r.Tv,U8:()=>r.U8,Y3:()=>r.Y3,ZN:()=>r.ZN,_m:()=>r._m,a1:()=>s.a1,ct:()=>r.ct,e0:()=>r.e0,eK:()=>r.eK,fB:()=>r.fB,iY:()=>r.iY,lB:()=>r.lB,lo:()=>r.lo,q0:()=>r.q0,s2:()=>r.s2,tF:()=>r.tF,u1:()=>r.u1,yn:()=>r.yn});var s=a(3999),r=a(1886)},5376:(e,t,a)=>{Promise.resolve().then(a.bind(a,9240))},8738:(e,t,a)=>{"use strict";a.d(t,{H:()=>o,i:()=>l});var s=a(5155),r=a(2115),n=a(993);let c=(0,r.createContext)(null),l=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},o=e=>{let{children:t}=e,a=(0,n.bH)();return(0,s.jsx)(c.Provider,{value:a,children:t})}},9240:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5155),r=a(2115),n=a(1007),c=a(9946);let l=(0,c.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o=(0,c.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var i=a(3717),d=a(1264),u=a(1886),p=a(8738);function m(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{})})}let x=()=>{let{loaded:e,isInitialized:t,isAuthenticated:a}=(0,p.i)(),[c,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[y,v]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&t&&a&&N()},[e,t,a]);let N=async()=>{try{v(!0);let e=await (0,u.j3)();m(e.data),f(e.data.bio||"")}catch(e){console.error("Failed to load user info:",e)}finally{v(!1)}},w=async()=>{try{j(!0),await (0,u.iu)(g),c&&m({...c,bio:g}),h(!1)}catch(e){console.error("Failed to update bio:",e)}finally{j(!1)}};return e&&t&&!y?a?c?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Profile"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"User Information"})]})]})}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>{f((null==c?void 0:c.bio)||""),h(!1)},className:"border border-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[(0,s.jsx)(l,{className:"w-4 h-4"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:w,disabled:b,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),b?"Saving...":"Save"]})]}):(0,s.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"Edit Profile"]})})]})}),(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:" rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:(0,s.jsx)("img",{src:"/zz/profileImage/".concat(c.id,"/").concat(c.name),alt:"User Profile",className:"w-20 h-20 rounded-full"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:c.name}),c.username&&(0,s.jsxs)("p",{className:"text-blue-600 font-medium mb-2",children:["@",c.username]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[c.utype," â€¢ ",c.ugroup]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"About"}),x?(0,s.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),className:"w-full p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Tell us about yourself..."}):(0,s.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:c.bio?(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:c.bio}):(0,s.jsx)("p",{className:"text-gray-500 italic",children:'No bio added yet. Click "Edit Profile" to add one.'})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,s.jsx)(d.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm",children:c.email})]}),c.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,s.jsx)(n.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm",children:c.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,s.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(c.is_verified?"bg-green-500":"bg-gray-400")})}),(0,s.jsx)("span",{className:"text-sm",children:c.is_verified?"Verified Account":"Unverified Account"})]})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Failed to load profile"})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Please log in to view your profile"})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:e&&t?"Loading profile...":"Initializing..."})]})})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:i="",children:d,iconNode:u,...p}=e;return(0,s.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:a,strokeWidth:o?24*Number(l)/Number(r):l,className:n("lucide",i),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,c)=>{let{className:o,...i}=a;return(0,s.createElement)(l,{ref:c,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...i})});return a.displayName=r(e),a}}},e=>{e.O(0,[464,441,964,977],()=>e(e.s=5376)),_N_E=e.O()}]);