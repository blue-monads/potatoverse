(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6389],{3620:(e,t,a)=>{Promise.resolve().then(a.bind(a,7906))},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var l=a(5155),s=a(2115),r=a(1380),o=a(9869),n=a(4616),i=a(5968),c=a(4653),d=a(5169),x=a(9890),u=a(3717),p=a(1788),g=a(2525),m=a(5695),h=a(2706),b=a(4678),f=a(7071),y=a(993),j=a(2569);function N(){let e=(0,m.useRouter)(),t=(0,m.useSearchParams)().get("install_id"),{modal:a}=(0,y.ii)();return t?(0,l.jsx)(w,{installId:parseInt(t)}):(0,l.jsx)(h.A,{Icon:r.A,name:"Space Files",description:"Select a space to view files",children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(r.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No space selected"}),(0,l.jsx)("button",{onClick:()=>e.back(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Go Back"})]})})})}let w=e=>{let{installId:t}=e,[a,x]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,m]=(0,s.useState)("list"),[N,w]=(0,s.useState)(!1),k=(0,s.useRef)(null),C=(0,y.ii)(),{modal:_}=C,A=(0,f.A)({loader:()=>(0,b.ct)(t,a),ready:C.isInitialized,dependencies:[a,u]}),D=(A.data||[]).filter(e=>{let t=e.path===a,l=e.name.toLowerCase().includes(u.toLowerCase());return t&&l}),F=D.filter(e=>e.is_folder),M=D.filter(e=>!e.is_folder),P=a.split("/").filter(Boolean),U=async e=>{try{let a=await (0,b.ZN)(t,e.id),l=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=l,s.setAttribute("download",e.name),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(l)}catch(e){console.error("Download failed:",e)}},E=async e=>{if(confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await (0,b.Sx)(t,e.id),A.reload()}catch(e){console.error("Delete failed:",e)}},T=async e=>{try{let s=await (0,b.ZN)(t,e.id);if(!(s.data instanceof Blob))throw Error("Expected blob response but got something else");let r=await s.data.text();_.openModal({title:"Edit ".concat(e.name),content:(0,l.jsx)(S,{installId:t,file:e,initialContent:r,currentPath:a,onSave:()=>{A.reload(),_.closeModal()},onCancel:()=>_.closeModal()}),size:"xl"})}catch(e){console.error("Failed to load file for editing:",e),alert("Failed to load file for editing. The file might be too large, not a text file, or corrupted.")}},L=async e=>{if(e.trim())try{await (0,b.Pj)(t,e.trim(),a),_.closeModal(),A.reload()}catch(e){console.error("Create folder failed:",e)}},z=()=>{let[e,t]=(0,s.useState)("");return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder Name"}),(0,l.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter folder name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key&&e.trim()?L(e):"Escape"===t.key&&_.closeModal()}})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{onClick:()=>_.closeModal(),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>L(e),disabled:!e.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Create Folder"})]})]})},R=()=>{let[e,r]=(0,s.useState)("regular"),[n,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),[x,u]=(0,s.useState)("curl"),p=async()=>{if(n.trim())try{let e=await (0,b.q0)(t,n.trim(),a,3600);d(e.data)}catch(e){console.error("Generate presigned URL failed:",e)}};return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[(0,l.jsx)("button",{onClick:()=>r("regular"),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-all ".concat("regular"===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Regular Upload"}),(0,l.jsx)("button",{onClick:()=>r("presigned"),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-all ".concat("presigned"===e?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Presigned Upload"})]}),"regular"===e&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Regular Upload"}),(0,l.jsx)("p",{className:"text-sm text-blue-800",children:"Upload files directly from your device. Files will be uploaded immediately to the current directory."})]}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[(0,l.jsx)(o.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600 mb-2",children:"Click to select files or drag and drop"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Multiple files supported"}),(0,l.jsx)("input",{ref:k,type:"file",multiple:!0,onChange:async e=>{let l=e.target.files;if(l&&0!==l.length){w(!0);try{for(let e of Array.from(l))await (0,b.eK)(t,e,a);A.reload(),_.closeModal()}catch(e){console.error("Upload failed:",e),alert("Upload failed: "+e)}finally{w(!1),k.current&&(k.current.value="")}}},className:"hidden"}),(0,l.jsx)("button",{onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},disabled:N,className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:N?"Uploading...":"Select Files"})]})]}),"presigned"===e&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"Presigned Upload"}),(0,l.jsx)("p",{className:"text-sm text-purple-800",children:"Generate a temporary token that can be used to upload files without authentication. Perfect for third-party integrations, CLI tools, or sharing upload capabilities securely."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),(0,l.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"e.g., document.pdf",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The uploaded file must match this exact filename"})]}),(0,l.jsx)("button",{onClick:p,disabled:!n.trim(),className:"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50",children:"Generate Presigned Token"}),c&&(0,l.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,l.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:["✓ Token generated successfully! Expires in ",c.expiry," seconds"]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presigned Token"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:c.presigned_token,readOnly:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs"}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c.presigned_token)},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload URL"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:"".concat(window.location.origin).concat(c.upload_url),readOnly:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs"}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin).concat(c.upload_url))},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Upload Examples"}),(0,l.jsxs)("div",{className:"flex gap-1 mb-3 overflow-x-auto",children:[(0,l.jsx)("button",{onClick:()=>u("curl"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("curl"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"cURL"}),(0,l.jsx)("button",{onClick:()=>u("javascript"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("javascript"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"JavaScript"}),(0,l.jsx)("button",{onClick:()=>u("python"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("python"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Python"}),(0,l.jsx)("button",{onClick:()=>u("browser"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("browser"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Browser"})]}),(0,l.jsxs)("div",{children:["curl"===x&&(0,l.jsxs)("div",{children:[(0,l.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:'curl -X POST \\\n  "'.concat(window.location.origin).concat(c.upload_url,'" \\\n  -F "file=@').concat(n,'"')}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText('curl -X POST "'.concat(window.location.origin).concat(c.upload_url,'" -F "file=@').concat(n,'"'))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Command"})]}),"javascript"===x&&(0,l.jsxs)("div",{children:[(0,l.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nfetch('".concat(window.location.origin).concat(c.upload_url,"', {\n  method: 'POST',\n  body: formData\n}).then(res => res.json())\n  .then(data => console.log(data));")}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nfetch('".concat(window.location.origin).concat(c.upload_url,"', {\n  method: 'POST',\n  body: formData\n}).then(res => res.json())\n  .then(data => console.log(data));"))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Code"})]}),"python"===x&&(0,l.jsxs)("div",{children:[(0,l.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"import requests\n\nwith open('".concat(n,"', 'rb') as f:\n    files = {'file': f}\n    response = requests.post(\n        '").concat(window.location.origin).concat(c.upload_url,"',\n        files=files\n    )\nprint(response.json())")}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("import requests\n\nwith open('".concat(n,"', 'rb') as f:\n    files = {'file': f}\n    response = requests.post(\n        '").concat(window.location.origin).concat(c.upload_url,"',\n        files=files\n    )\nprint(response.json())"))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Code"})]}),"browser"===x&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Share this link with users to upload via web browser:"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:"".concat(window.location.origin,"/zz/pages/presigned/file?presigned-key=").concat(c.presigned_token),readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg font-mono text-xs"}),(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin,"/zz/pages/presigned/file?presigned-key=").concat(c.presigned_token))},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]}),(0,l.jsx)("a",{href:"/zz/pages/presigned/file?presigned-key=".concat(c.presigned_token),target:"_blank",rel:"noopener noreferrer",className:"inline-block text-xs text-purple-600 hover:text-purple-800",children:"Open Upload Page →"})]})]})]})]})]}),(0,l.jsx)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:(0,l.jsx)("button",{onClick:()=>{_.closeModal(),i(""),d(null)},className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})})]})};return(0,l.jsx)(h.A,{Icon:r.A,name:"Space Files",description:"Managing files for spaces",rightContent:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("button",{onClick:()=>{_.openModal({title:"Create New Folder",content:(0,l.jsx)(z,{}),size:"md"})},className:"flex items-center gap-2 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[(0,l.jsx)(n.A,{className:"w-4 h-4"}),"New Folder"]}),(0,l.jsxs)("button",{onClick:()=>{_.openModal({title:"Upload Files",content:(0,l.jsx)(R,{}),size:"lg"})},disabled:N,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:[(0,l.jsx)(o.A,{className:"w-4 h-4"}),N?"Uploading...":"Upload Files"]})]}),children:(0,l.jsxs)("div",{className:"card m-4 p-4 flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white",children:[(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsx)(j.A,{searchText:u,setSearchText:p,placeholder:"Search files...",onSearchButtonClick:()=>A.reload(),className:"w-full"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>m("list"),className:"p-2 rounded ".concat("list"===g?"bg-blue-100 text-blue-600":"text-gray-400"),children:(0,l.jsx)(i.A,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:()=>m("grid"),className:"p-2 rounded ".concat("grid"===g?"bg-blue-100 text-blue-600":"text-gray-400"),children:(0,l.jsx)(c.A,{className:"w-4 h-4"})})]})]}),(0,l.jsxs)("nav",{className:"flex items-center space-x-2 text-sm rounded-lg bg-white p-4 border border-gray-200",children:[(0,l.jsx)("button",{onClick:()=>x(""),className:"text-blue-500 hover:text-blue-700",children:"Root"}),P.map((e,t)=>(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)("span",{className:"text-gray-400",children:"/"}),(0,l.jsx)("button",{onClick:()=>{x(P.slice(0,t+1).join("/"))},className:"text-blue-500 hover:text-blue-700",children:e})]},t))]}),a&&(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("button",{onClick:()=>{let e=a.split("/");e.pop(),x(e.join("/"))},className:"flex items-center gap-2 text-blue-500 hover:text-blue-700",children:[(0,l.jsx)(d.A,{className:"w-4 h-4"}),"Back"]})}),A.loading?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Loading files..."})]})}):0===D.length?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(r.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No files found"})]})}):(0,l.jsxs)("div",{className:"grid"===g?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:[F.map(e=>(0,l.jsx)(v,{file:e,viewMode:g,onDoubleClick:()=>(e=>{x(a?"".concat(a,"/").concat(e.name):e.name)})(e),onDownload:()=>{},onEdit:()=>{},onDelete:()=>E(e)},e.id)),M.map(e=>(0,l.jsx)(v,{file:e,viewMode:g,onDoubleClick:()=>U(e),onDownload:()=>U(e),onEdit:()=>T(e),onDelete:()=>E(e)},e.id))]})]})})},v=e=>{let{file:t,viewMode:a,onDoubleClick:o,onDownload:n,onEdit:i,onDelete:c}=e,[d,m]=(0,s.useState)(!1);return"grid"===a?(0,l.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer group relative",onDoubleClick:o,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 mb-2 flex items-center justify-center",children:t.is_folder?(0,l.jsx)(r.A,{className:"w-8 h-8 text-blue-500"}):(0,l.jsx)(x.A,{className:"w-8 h-8 text-gray-500"})}),(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate w-full",children:t.name}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:t.is_folder?"Folder":k(t.size)})]}),d&&!t.is_folder&&(0,l.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-100",title:"Edit file",children:(0,l.jsx)(u.A,{className:"w-3 h-3"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-100",title:"Download file",children:(0,l.jsx)(p.A,{className:"w-3 h-3"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-100 text-red-500",title:"Delete file",children:(0,l.jsx)(g.A,{className:"w-3 h-3"})})]})]}):(0,l.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer group",onDoubleClick:o,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[(0,l.jsx)("div",{className:"flex-shrink-0 mr-3",children:t.is_folder?(0,l.jsx)(r.A,{className:"w-5 h-5 text-blue-500"}):(0,l.jsx)(x.A,{className:"w-5 h-5 text-gray-500"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:t.is_folder?"Folder":"".concat(k(t.size)," • ").concat(C(t.created_at))})]}),d&&!t.is_folder&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"p-1 hover:bg-gray-200 rounded",title:"Edit file",children:(0,l.jsx)(u.A,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"p-1 hover:bg-gray-200 rounded",title:"Download file",children:(0,l.jsx)(p.A,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"p-1 hover:bg-gray-200 rounded text-red-500",title:"Delete file",children:(0,l.jsx)(g.A,{className:"w-4 h-4"})})]})]})},k=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]},C=e=>new Date(e).toLocaleDateString(),S=e=>{let{installId:t,file:a,initialContent:r,currentPath:o,onSave:n,onCancel:i}=e,[c,d]=(0,s.useState)(r),[x,u]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{p.current&&p.current.focus()},[]);let g=async()=>{u(!0);try{await (0,b.TT)(t,a.id,c,a.name,o),n()}catch(e){console.error("Failed to save file:",e),alert("Failed to save file. Please try again.")}finally{u(!1)}};return(0,l.jsxs)("div",{className:"flex flex-col h-full max-h-[80vh]",children:[(0,l.jsx)("div",{className:"flex-1 mb-4",children:(0,l.jsx)("textarea",{ref:p,value:c,onChange:e=>d(e.target.value),className:"w-full h-full p-4 border border-gray-300 rounded-lg font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",style:{minHeight:"400px"},spellCheck:!1})}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[c.length," characters"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:i,disabled:x,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:"Cancel"}),(0,l.jsx)("button",{onClick:g,disabled:x||c===r,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Save"})]})]})]})}}},e=>{e.O(0,[3464,1886,4541,8441,5964,7358],()=>e(e.s=3620)),_N_E=e.O()}]);