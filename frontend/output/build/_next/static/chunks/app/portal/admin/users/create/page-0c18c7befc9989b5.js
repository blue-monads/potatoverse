(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9263],{1007:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2706:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(5155);let a=e=>(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100 w-full",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(e.Icon,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"h4",children:e.name}),(0,t.jsx)("p",{className:"p text-wrap",children:e.description})]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:e.rightContent})]})}),e.children]})},4320:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(5155),a=s(2115),l=s(5695),n=s(1007),d=s(2706),i=s(4678);function o(){let e=(0,l.useRouter)(),[r,s]=(0,a.useState)({name:"",email:"",username:"",utype:"user",ugroup:""}),[o,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[g,p]=(0,a.useState)([]),[b,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,i.K4)();p(e.data),e.data.length>0&&!r.ugroup&&s(r=>({...r,ugroup:e.data[0].name}))}catch(e){console.error("Failed to load user groups:",e),m("Failed to load user groups")}finally{f(!1)}})()},[]);let y=async e=>{e.preventDefault(),c(!0),m("");try{let e=await (0,i._m)(r);h(e.data)}catch(e){var s,t;m((null==e||null==(t=e.response)||null==(s=t.data)?void 0:s.message)||(null==e?void 0:e.message)||"An error occurred")}finally{c(!1)}},j=(e,r)=>{s(s=>({...s,[e]:r}))},v=()=>{e.push("/portal/admin/users")};return(0,t.jsx)(d.A,{Icon:n.A,name:"Users",description:"Manage your users, roles, and permissions.",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto my-20",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Created Successfully!"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"The user has been created and can now log in with the generated password."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:x.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:x.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Username"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:x.username})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"User Type"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 capitalize",children:x.utype})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"User Group"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 capitalize",children:x.ugroup})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Generated Password"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)("p",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-3 py-2 rounded border flex-1",children:x.password}),(0,t.jsx)("button",{type:"button",onClick:()=>navigator.clipboard.writeText(x.password),className:"px-3 py-2 text-blue-600 hover:text-blue-800 text-sm font-medium border border-blue-200 rounded hover:bg-blue-50 transition-colors",children:"Copy"})]}),(0,t.jsxs)("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please save this password securely. It won't be shown again."]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-center mt-8",children:[(0,t.jsx)("button",{onClick:()=>{h(null),s({name:"",email:"",username:"",utype:"user",ugroup:g.length>0?g[0].name:""}),m("")},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Create Another User"}),(0,t.jsx)("button",{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Users"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create New User"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Create a new user account directly. A random password will be generated."})]}),(0,t.jsxs)("form",{onSubmit:y,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",id:"name",value:r.name,onChange:e=>j("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",id:"email",value:r.email,onChange:e=>j("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,t.jsx)("input",{type:"text",id:"username",value:r.username,onChange:e=>j("username",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter username",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"utype",className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type *"}),(0,t.jsx)("select",{id:"utype",value:r.utype,onChange:e=>j("utype",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[{value:"user",label:"User"},{value:"bot",label:"Bot"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ugroup",className:"block text-sm font-medium text-gray-700 mb-2",children:"User Group *"}),(0,t.jsx)("select",{id:"ugroup",value:r.ugroup,onChange:e=>j("ugroup",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:b,children:b?(0,t.jsx)("option",{value:"",children:"Loading groups..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"",children:"Select a user group"}),g.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name," ",e.info&&"- ".concat(e.info)]},e.name))]})})]})]}),u&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:u})}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:v,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors",disabled:o,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",disabled:o,children:o?"Creating...":"Create User"})]})]})]})})})}},4678:(e,r,s)=>{"use strict";s.d(r,{$V:()=>a.$V,AC:()=>a.AC,B9:()=>a.B9,Cs:()=>a.Cs,De:()=>a.De,Ed:()=>a.Ed,H1:()=>a.H1,H4:()=>a.H4,K4:()=>a.K4,Kh:()=>a.Kh,Lv:()=>a.Lv,MA:()=>a.MA,MH:()=>t.MH,NC:()=>t.NC,Nv:()=>a.Nv,Om:()=>a.Om,P6:()=>a.P6,Pj:()=>a.Pj,QT:()=>a.QT,Qf:()=>a.Qf,Qk:()=>a.Qk,R5:()=>a.R5,Sx:()=>a.Sx,T:()=>a.T,TT:()=>a.TT,TY:()=>a.TY,Tv:()=>a.Tv,U8:()=>a.U8,VG:()=>a.VG,Y3:()=>a.Y3,ZN:()=>a.ZN,_Q:()=>a._Q,_m:()=>a._m,a1:()=>t.a1,cZ:()=>a.cZ,ct:()=>a.ct,e0:()=>a.e0,eK:()=>a.eK,fB:()=>a.fB,iY:()=>a.iY,lB:()=>a.lB,lo:()=>a.lo,q0:()=>a.q0,qf:()=>a.qf,rf:()=>a.rf,s2:()=>a.s2,tF:()=>a.tF,to:()=>a.to,u1:()=>a.u1,uP:()=>a.uP,yn:()=>a.yn,z6:()=>a.z6});var t=s(3999),a=s(1886)},5695:(e,r,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},8804:(e,r,s)=>{Promise.resolve().then(s.bind(s,4320))},9946:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(2115);let a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...n,width:a,height:a,stroke:s,strokeWidth:i?24*Number(d)/Number(a):d,className:l("lucide",o),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(c)?c:[c]])}),i=(e,r)=>{let s=(0,t.forwardRef)((s,n)=>{let{className:i,...o}=s;return(0,t.createElement)(d,{ref:n,iconNode:r,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return s.displayName=a(e),s}}},e=>{e.O(0,[3464,1886,8441,5964,7358],()=>e(e.s=8804)),_N_E=e.O()}]);