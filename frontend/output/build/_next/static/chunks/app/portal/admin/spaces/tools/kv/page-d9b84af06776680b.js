(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5995],{1539:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},1886:(e,t,a)=>{"use strict";a.d(t,{$V:()=>T,$c:()=>u,AC:()=>S,B9:()=>I,BA:()=>f,Cs:()=>ee,De:()=>K,Ed:()=>k,H1:()=>ed,H4:()=>eg,IF:()=>b,K4:()=>h,Kh:()=>eu,Ku:()=>ew,Lv:()=>E,MA:()=>q,Nv:()=>en,Om:()=>es,Oz:()=>d,P6:()=>ei,Pj:()=>Z,QD:()=>p,QT:()=>X,Qf:()=>H,Qk:()=>er,Ql:()=>x,R5:()=>Q,Sx:()=>Y,T:()=>ea,TT:()=>$,TY:()=>et,Tv:()=>O,U8:()=>F,UP:()=>eb,VG:()=>z,Y3:()=>c,YT:()=>M,ZN:()=>J,_Q:()=>eN,_m:()=>y,ct:()=>U,e0:()=>R,eK:()=>G,eq:()=>g,fB:()=>C,gw:()=>ef,iD:()=>o,iJ:()=>v,iQ:()=>j,iY:()=>B,ir:()=>m,iu:()=>w,j3:()=>N,lB:()=>D,lo:()=>l,mm:()=>eh,no:()=>ex,q0:()=>W,qR:()=>ev,qf:()=>ec,rf:()=>ep,s2:()=>A,sI:()=>ey,si:()=>ej,tF:()=>_,to:()=>eo,u1:()=>P,uP:()=>L,wz:()=>i,yj:()=>em,yn:()=>V,z6:()=>el});var s=a(3464),r=a(3999);let n=s.A.create({baseURL:"/zz/api"}),c=()=>{let e=(0,r.MH)(),t={"Content-Type":"application/json","X-Clacks-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),n=s.A.create({baseURL:"/zz/api",headers:t})},o=async(e,t)=>n.post("/core/auth/login",{username:e,password:t}),l=async()=>n.get("/core/user"),i=async e=>n.get("/core/user/".concat(e)),d=async()=>n.get("/core/user/invites"),u=async e=>n.post("/core/user/invites",e),p=async e=>n.delete("/core/user/invites/".concat(e)),g=async e=>n.post("/core/user/invites/".concat(e,"/resend")),m=async e=>n.get("/core/auth/invite/".concat(e)),x=async(e,t)=>n.post("/core/auth/invite/".concat(e),t),y=async e=>n.post("/core/user/create",e),h=async()=>n.get("/core/user/groups"),f=async e=>n.post("/core/user/groups",e),v=async(e,t)=>n.put("/core/user/groups/".concat(e),t),b=async e=>n.delete("/core/user/groups/".concat(e)),j=async e=>n.get("/core/self/portalData/".concat(e)),N=async()=>n.get("/core/self/info"),w=async e=>n.put("/core/self/bio",{bio:e}),k=async e=>n.post("/core/package/install",{url:e}),_=async e=>n.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),C=async(e,t)=>n.post("/core/package/install/embed",{name:e,repo_slug:t}),A=async e=>n.delete("/core/package/".concat(e)),S=async e=>n.post("/core/package/".concat(e,"/dev-token")),T=async e=>{let t=e?"?repo=".concat(encodeURIComponent(e)):"";return n.get("/core/package/list".concat(t))},L=async()=>n.get("/core/repo/list"),V=async()=>n.get("/core/space/installed"),z=async e=>n.get("/core/package/".concat(e,"/info")),K=async(e,t)=>{let a=encodeURIComponent(t);return n.get("/core/engine/space_info/".concat(e,"?host_name=").concat(a.toString()))},M=async(e,t)=>{let a=window.location.hostname;return n.get("/core/engine/derivehost/".concat(e,"?host_name=").concat(a,"&space_id=").concat(t))},P=async(e,t)=>n.post("/core/space/authorize/".concat(e),{space_id:t}),q=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/vpackage/".concat(e,"/files"),{params:{path:t}})},O=async(e,t)=>n.get("/core/vpackage/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),R=async(e,t)=>n.delete("/core/vpackage/".concat(e,"/files/").concat(t)),F=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/vpackage/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},I=async function(e,t,a,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await R(e,t);let c=new File([new Blob([a],{type:"text/plain"})],s,{type:"text/plain"}),o=new FormData;return o.append("file",c),o.append("path",r),n.post("/core/vpackage/".concat(e,"/files/upload"),o,{headers:{"Content-Type":"multipart/form-data"}})},H=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return n.get("/core/space/".concat(e,"/kv"),{params:{offset:t,limit:a}})},Q=async(e,t)=>n.get("/core/space/".concat(e,"/kv/").concat(t)),B=async(e,t)=>n.post("/core/space/".concat(e,"/kv"),t),D=async(e,t,a)=>n.put("/core/space/".concat(e,"/kv/").concat(t),a),E=async(e,t)=>n.delete("/core/space/".concat(e,"/kv/").concat(t)),U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/space/".concat(e,"/files"),{params:{path:t}})},J=async(e,t)=>n.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),Y=async(e,t)=>n.delete("/core/space/".concat(e,"/files/").concat(t)),G=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/space/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},$=async function(e,t,a,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await Y(e,t);let c=new File([new Blob([a],{type:"text/plain"})],s,{type:"text/plain"}),o=new FormData;return o.append("file",c),o.append("path",r),n.post("/core/space/".concat(e,"/files/upload"),o,{headers:{"Content-Type":"multipart/form-data"}})},Z=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},W=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;return n.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:s})},X=async(e,t)=>{let a=new FormData;return a.append("file",t),s.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})},ee=async()=>n.get("/core/capability/types"),et=async(e,t,a)=>n.get("/core/space/".concat(e,"/capabilities"),{params:{...void 0!==t&&{space_id:t},...a&&{capability_type:a}}}),ea=async(e,t)=>n.post("/core/space/".concat(e,"/capabilities"),t),es=async(e,t,a)=>n.put("/core/space/".concat(e,"/capabilities/").concat(t),a),er=async(e,t)=>n.delete("/core/space/".concat(e,"/capabilities/").concat(t)),en=async(e,t,a,s)=>n.get("/core/space/".concat(e,"/users"),{params:{...void 0!==t&&{space_id:t},...void 0!==a&&{user_id:a},...s&&{scope:s}}}),ec=async(e,t)=>n.post("/core/space/".concat(e,"/users"),t),eo=async(e,t,a)=>n.put("/core/space/".concat(e,"/users/").concat(t),a),el=async(e,t)=>n.delete("/core/space/".concat(e,"/users/").concat(t)),ei=async(e,t,a)=>n.get("/core/space/".concat(e,"/events"),{params:{...void 0!==t&&{space_id:t},...a&&{event_key:a}}}),ed=async(e,t)=>n.get("/core/space/".concat(e,"/events/").concat(t)),eu=async(e,t)=>{let a={event_key:t.event_key,target_type:t.target_type,...void 0!==t.space_id&&{space_id:t.space_id},...t.target_endpoint&&{target_endpoint:t.target_endpoint},...t.target_options&&{target_options:"string"==typeof t.target_options?t.target_options:JSON.stringify(t.target_options)},...t.target_code&&{target_code:t.target_code},...void 0!==t.target_space_id&&{target_space_id:t.target_space_id},...t.rules&&{rules:"string"==typeof t.rules?t.rules:JSON.stringify(t.rules)},...t.transform&&{transform:"string"==typeof t.transform?t.transform:JSON.stringify(t.transform)},...void 0!==t.delay_start&&{delay_start:t.delay_start},...void 0!==t.retry_delay&&{retry_delay:t.retry_delay},...void 0!==t.max_retries&&{max_retries:t.max_retries},...t.extrameta&&{extrameta:"string"==typeof t.extrameta?t.extrameta:JSON.stringify(t.extrameta)},...void 0!==t.disabled&&{disabled:t.disabled}};return n.post("/core/space/".concat(e,"/events"),a)},ep=async(e,t,a)=>{let s={};return void 0!==a.event_key&&(s.event_key=a.event_key),void 0!==a.target_type&&(s.target_type=a.target_type),void 0!==a.space_id&&(s.space_id=a.space_id),void 0!==a.target_endpoint&&(s.target_endpoint=a.target_endpoint),void 0!==a.target_options&&(s.target_options="string"==typeof a.target_options?a.target_options:JSON.stringify(a.target_options)),void 0!==a.target_code&&(s.target_code=a.target_code),void 0!==a.rules&&(s.rules="string"==typeof a.rules?a.rules:JSON.stringify(a.rules)),void 0!==a.transform&&(s.transform="string"==typeof a.transform?a.transform:JSON.stringify(a.transform)),void 0!==a.delay_start&&(s.delay_start=a.delay_start),void 0!==a.retry_delay&&(s.retry_delay=a.retry_delay),void 0!==a.max_retries&&(s.max_retries=a.max_retries),void 0!==a.extrameta&&(s.extrameta="string"==typeof a.extrameta?a.extrameta:JSON.stringify(a.extrameta)),void 0!==a.disabled&&(s.disabled=a.disabled),n.put("/core/space/".concat(e,"/events/").concat(t),s)},eg=async(e,t)=>n.delete("/core/space/".concat(e,"/events/").concat(t)),em=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a={limit:t};return null!=e&&(a.after_id=e),n.get("/core/user/messages",{params:a})},ex=async()=>n.get("/core/user/messages/new"),ey=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return n.get("/core/user/messages/history",{params:{limit:e}})},eh=async e=>n.delete("/core/user/messages/".concat(e)),ef=async e=>n.post("/core/user/messages/".concat(e,"/read")),ev=async()=>n.post("/core/user/messages/read-all"),eb=async()=>n.get("/core/docs/docs_index.json"),ej=async e=>n.get("/core/docs/".concat(e)),eN=async e=>n.get("/capabilities/debug/".concat(e)),ew=async e=>n.get("/core/space/".concat(e,"/spec.json"))},2525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2569:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(5155),r=a(7924),n=a(1539);let c=e=>(0,s.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 ".concat(e.className),children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:e.placeholder||"Search spaces...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.searchText,onChange:t=>e.setSearchText(t.target.value)}),(0,s.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 cursor-pointer hover:bg-gray-100 rounded-full transition-colors",onClick:e.onSearchButtonClick,children:(0,s.jsx)(n.A,{className:"w-5 h-5 text-gray-400"})})]})})})},2706:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155);let r=e=>(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100 w-full",children:[(0,s.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(e.Icon,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"h4",children:e.name}),(0,s.jsx)("p",{className:"p text-wrap",children:e.description})]})]})}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:e.rightContent})]})}),e.children]})},2780:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,M:()=>r});var s=a(5155);let r=e=>(0,s.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:"btn btn-base preset-filled bg-primary-600 text-white",children:e.name||"Add"}),n=r},3052:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3332:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},3717:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3999:(e,t,a)=>{"use strict";a.d(t,{MH:()=>n,NC:()=>r,a1:()=>c});let s="_potato_login_info_",r=(e,t)=>{localStorage.setItem(s,JSON.stringify({accessToken:e,userInfo:t}))},n=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):null},c=()=>{localStorage.removeItem(s)}},4496:(e,t,a)=>{Promise.resolve().then(a.bind(a,6470))},4678:(e,t,a)=>{"use strict";a.d(t,{$V:()=>r.$V,AC:()=>r.AC,B9:()=>r.B9,Cs:()=>r.Cs,De:()=>r.De,Ed:()=>r.Ed,H1:()=>r.H1,H4:()=>r.H4,K4:()=>r.K4,Kh:()=>r.Kh,Lv:()=>r.Lv,MA:()=>r.MA,MH:()=>s.MH,NC:()=>s.NC,Nv:()=>r.Nv,Om:()=>r.Om,P6:()=>r.P6,Pj:()=>r.Pj,QT:()=>r.QT,Qf:()=>r.Qf,Qk:()=>r.Qk,R5:()=>r.R5,Sx:()=>r.Sx,T:()=>r.T,TT:()=>r.TT,TY:()=>r.TY,Tv:()=>r.Tv,U8:()=>r.U8,VG:()=>r.VG,Y3:()=>r.Y3,ZN:()=>r.ZN,_Q:()=>r._Q,_m:()=>r._m,a1:()=>s.a1,ct:()=>r.ct,e0:()=>r.e0,eK:()=>r.eK,fB:()=>r.fB,iY:()=>r.iY,lB:()=>r.lB,lo:()=>r.lo,q0:()=>r.q0,qf:()=>r.qf,rf:()=>r.rf,s2:()=>r.s2,tF:()=>r.tF,to:()=>r.to,u1:()=>r.u1,uP:()=>r.uP,yn:()=>r.yn,z6:()=>r.z6});var s=a(3999),r=a(1886)},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6470:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115),n=a(9946);let c=(0,n.A)("grid-2x2-plus",[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]]);var o=a(6932),l=a(9803);let i=(0,n.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var d=a(3332),u=a(3717),p=a(2525);let g=(0,n.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var m=a(3052),x=a(5695),y=a(2706),h=a(2569),f=a(2780),v=a(4678),b=a(7071);function j(){let e=(0,x.useSearchParams)().get("install_id");return e?(0,s.jsx)(N,{spaceId:parseInt(e)}):(0,s.jsx)("div",{children:"Install ID not provided"})}let N=e=>{var t,a,n,j;let{spaceId:N}=e,_=(0,x.useSearchParams)(),C=(0,x.useRouter)(),[A,S]=(0,r.useState)(""),[T,L]=(0,r.useState)(""),[V,z]=(0,r.useState)(null),[K,M]=(0,r.useState)(!1),P=parseInt(_.get("offset")||"0",10),q=isNaN(P)||P<0?0:P,O=(0,b.A)({loader:()=>(0,v.Qf)(N,q,100),ready:!0}),R=(null==(t=O.data)?void 0:t.filter(e=>{let t=""===A||e.key.toLowerCase().includes(A.toLowerCase())||e.group.toLowerCase().includes(A.toLowerCase())||e.tag1&&e.tag1.toLowerCase().includes(A.toLowerCase())||e.tag2&&e.tag2.toLowerCase().includes(A.toLowerCase())||e.tag3&&e.tag3.toLowerCase().includes(A.toLowerCase()),a=""===T||e.group===T;return t&&a}))||[],F=Array.from(new Set((null==(a=O.data)?void 0:a.map(e=>e.group))||[])),I=(null==(n=O.data)?void 0:n.length)===100,H=q>0;(0,r.useEffect)(()=>{if(q>0&&(A||T)){let e=new URLSearchParams(_.toString());e.delete("offset"),C.push("?".concat(e.toString()))}},[A,T]);let Q=async e=>{try{await (0,v.iY)(N,e),O.reload(),M(!1)}catch(e){console.error("Failed to create KV entry:",e)}},B=async(e,t)=>{try{await (0,v.lB)(N,e,t),O.reload(),z(null)}catch(e){console.error("Failed to update KV entry:",e)}},D=async e=>{try{await (0,v.Lv)(N,e),O.reload()}catch(e){console.error("Failed to delete KV entry:",e)}};return(0,s.jsxs)(y.A,{Icon:c,name:"Space KV Store",description:"Key-Value storage for this space",rightContent:(0,s.jsx)(f.M,{name:"+ Add KV",onClick:()=>M(!0)}),children:[(0,s.jsx)(h.A,{searchText:A,setSearchText:S}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8 w-full",children:[(0,s.jsxs)("div",{className:"mb-6 flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Filter by Group:"})]}),(0,s.jsxs)("select",{value:T,onChange:e=>L(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"All Groups"}),F.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),"Key"]})}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i,{className:"w-4 h-4"}),"Group"]})}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),"Tags"]})}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:O.loading?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):0===R.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No KV entries found"})}):R.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:t=>{t.target.closest("button")||z(e.id)},children:[(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.key}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.group})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tag1&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e.tag1}),e.tag2&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e.tag2}),e.tag3&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e.tag3})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:()=>z(e.id),className:"text-blue-600 hover:text-blue-900",children:(0,s.jsx)(u.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this KV entry?")&&D(e.id)},className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})})]})})]},e.id))})]})}),(H||I)&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",q+1," - ",q+((null==(j=O.data)?void 0:j.length)||0)," entries"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{let e=Math.max(0,q-100),t=new URLSearchParams(_.toString());0===e?t.delete("offset"):t.set("offset",e.toString()),C.push("?".concat(t.toString()))},disabled:!H||O.loading,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(H&&!O.loading?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Previous"]}),(0,s.jsxs)("button",{onClick:()=>{let e=q+100,t=new URLSearchParams(_.toString());t.set("offset",e.toString()),C.push("?".concat(t.toString()))},disabled:!I||O.loading,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(I&&!O.loading?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:["Next",(0,s.jsx)(m.A,{className:"w-4 h-4"})]})]})]})]})]}),K&&(0,s.jsx)(w,{onClose:()=>M(!1),onSubmit:Q}),V&&(0,s.jsx)(k,{spaceId:N,kvId:V,onClose:()=>z(null),onSubmit:e=>B(V,e)})]})},w=e=>{let{onClose:t,onSubmit:a}=e,[n,c]=(0,r.useState)({key:"",group:"",value:"",tag1:"",tag2:"",tag3:""});return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create KV Entry"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key"}),(0,s.jsx)("input",{type:"text",value:n.key,onChange:e=>c({...n,key:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group"}),(0,s.jsx)("input",{type:"text",value:n.group,onChange:e=>c({...n,group:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),(0,s.jsx)("textarea",{value:n.value,onChange:e=>c({...n,value:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 1"}),(0,s.jsx)("input",{type:"text",value:n.tag1,onChange:e=>c({...n,tag1:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 2"}),(0,s.jsx)("input",{type:"text",value:n.tag2,onChange:e=>c({...n,tag2:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 3"}),(0,s.jsx)("input",{type:"text",value:n.tag3,onChange:e=>c({...n,tag3:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Create"})]})]})]})})},k=e=>{let{spaceId:t,kvId:a,onClose:n,onSubmit:c}=e,[o,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{d(!0),console.log("Loading KV entry:",{spaceId:t,kvId:a});let e=await (0,v.R5)(t,a);console.log("KV entry loaded:",e.data);let s=e.data;l({key:s.key,group:s.group,value:s.value||"",tag1:s.tag1||"",tag2:s.tag2||"",tag3:s.tag3||""})}catch(e){console.error("Failed to load KV entry:",e),alert("Failed to load KV entry. Please try again."),n()}finally{d(!1)}})()},[t,a]),i||!o)?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:(0,s.jsx)("div",{className:"text-center text-gray-500",children:"Loading..."})})}):(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edit KV Entry"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o&&c(o)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key"}),(0,s.jsx)("input",{type:"text",value:o.key,onChange:e=>l({...o,key:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group"}),(0,s.jsx)("input",{type:"text",value:o.group,onChange:e=>l({...o,group:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),(0,s.jsx)("textarea",{value:o.value,onChange:e=>l({...o,value:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:12,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 1"}),(0,s.jsx)("input",{type:"text",value:o.tag1,onChange:e=>l({...o,tag1:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 2"}),(0,s.jsx)("input",{type:"text",value:o.tag2,onChange:e=>l({...o,tag2:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag 3"}),(0,s.jsx)("input",{type:"text",value:o.tag3,onChange:e=>l({...o,tag3:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Update"})]})]})]})})}},6932:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7071:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(2115);let r=e=>{let[t,a]=(0,s.useState)(null),[r,n]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null),l=async()=>{if(e.ready){n(!0),o(null);try{let t=await e.loader();a(t.data)}catch(e){o(e.message||"An error occurred")}finally{n(!1)}}};return(0,s.useEffect)(()=>{l()},[e.ready,...e.dependencies?e.dependencies:[]]),{data:t,loading:r,error:c,reload:l}}},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9803:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:u,...p}=e;return(0,s.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:a,strokeWidth:l?24*Number(o)/Number(r):o,className:n("lucide",i),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let a=(0,s.forwardRef)((a,c)=>{let{className:l,...i}=a;return(0,s.createElement)(o,{ref:c,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...i})});return a.displayName=r(e),a}}},e=>{e.O(0,[3464,8441,5964,7358],()=>e(e.s=4496)),_N_E=e.O()}]);