(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{993:(e,t,a)=>{"use strict";a.d(t,{ii:()=>o.i,bH:()=>n});var r=a(4678),s=a(2115);let n=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),l=(()=>{let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(null),n=(0,s.useCallback)(e=>{r(e),t(!0)},[]),o=(0,s.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{r(null)},150)},[a]),c=(0,s.useCallback)(e=>{a&&r({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:n,closeModal:o,updateModalContent:c}})(),[i,u]=(0,s.useState)(!1),d=()=>{let e=(0,r.MH)();(null==e?void 0:e.accessToken)?(c(e.userInfo),n(!0)):n(!1),t(!0)};return(0,s.useEffect)(()=>{e&&a&&(i||((0,r.Y3)(),u(!0)))},[e,a]),(0,s.useEffect)(()=>{d()},[]),{loaded:e,isAuthenticated:a,checkToken:d,logOut:()=>{(0,r.a1)(),c(null),n(!1)},logIn:(e,t)=>{(0,r.NC)(e,t),d()},userInfo:o,modal:l,isInitialized:i}};var o=a(8738);a(3588)},1886:(e,t,a)=>{"use strict";a.d(t,{$V:()=>A,$c:()=>d,BA:()=>v,De:()=>S,Ed:()=>N,IF:()=>w,K4:()=>x,Lv:()=>I,MA:()=>_,Oz:()=>u,Pj:()=>Y,QD:()=>p,QT:()=>P,Qf:()=>W,Ql:()=>f,Sx:()=>U,Tv:()=>B,U8:()=>H,Y3:()=>o,ZN:()=>Q,_m:()=>m,ct:()=>O,e0:()=>E,eK:()=>V,eq:()=>h,fB:()=>C,iD:()=>c,iJ:()=>y,iQ:()=>k,iY:()=>D,ir:()=>g,iu:()=>b,j3:()=>j,lB:()=>F,lo:()=>l,q0:()=>K,s2:()=>L,tF:()=>z,u1:()=>T,wz:()=>i,yn:()=>M});var r=a(3464),s=a(3999);let n=r.A.create({baseURL:"/zz/api"}),o=()=>{let e=(0,s.MH)(),t={"Content-Type":"application/json","X-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),n=r.A.create({baseURL:"/zz/api",headers:t})},c=async(e,t)=>n.post("/core/auth/login",{username:e,password:t}),l=async()=>n.get("/core/user"),i=async e=>n.get("/core/user/".concat(e)),u=async()=>n.get("/core/user/invites"),d=async e=>n.post("/core/user/invites",e),p=async e=>n.delete("/core/user/invites/".concat(e)),h=async e=>n.post("/core/user/invites/".concat(e,"/resend")),g=async e=>n.get("/core/auth/invite/".concat(e)),f=async(e,t)=>n.post("/core/auth/invite/".concat(e),t),m=async e=>n.post("/core/user/create",e),x=async()=>n.get("/core/user/groups"),v=async e=>n.post("/core/user/groups",e),y=async(e,t)=>n.put("/core/user/groups/".concat(e),t),w=async e=>n.delete("/core/user/groups/".concat(e)),k=async e=>n.get("/core/self/portalData/".concat(e)),j=async()=>n.get("/core/self/info"),b=async e=>n.put("/core/self/bio",{bio:e}),N=async e=>n.post("/core/package/install",{url:e}),z=async e=>n.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),C=async e=>n.post("/core/package/install/embed",{name:e}),L=async e=>n.delete("/core/package/".concat(e)),A=async()=>n.get("/core/package/list"),M=async()=>n.get("/core/space/installed"),S=async e=>n.get("/core/engine/space_info/".concat(e)),T=async(e,t)=>n.post("/core/space/authorize/".concat(e),{space_id:t}),_=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/package/".concat(e,"/files"),{params:{path:t}})},B=async(e,t)=>n.get("/core/package/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),E=async(e,t)=>n.delete("/core/package/".concat(e,"/files/").concat(t)),H=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=new FormData;return r.append("file",t),r.append("path",a),n.post("/core/package/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},W=async e=>n.get("/core/space/".concat(e,"/kv")),D=async(e,t)=>n.post("/core/space/".concat(e,"/kv"),t),F=async(e,t,a)=>n.put("/core/space/".concat(e,"/kv/").concat(t),a),I=async(e,t)=>n.delete("/core/space/".concat(e,"/kv/").concat(t)),O=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/space/".concat(e,"/files"),{params:{path:t}})},Q=async(e,t)=>n.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),U=async(e,t)=>n.delete("/core/space/".concat(e,"/files/").concat(t)),V=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=new FormData;return r.append("file",t),r.append("path",a),n.post("/core/space/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},Y=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},K=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;return n.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:r})},P=async(e,t)=>{let a=new FormData;return a.append("file",t),r.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})}},3588:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(5155),s=a(8738);let n=e=>{let{onClose:t}=e;return(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,r.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},o=()=>{let{modal:e}=(0,s.i)(),{isOpen:t,modalContent:a,closeModal:o}=e;return t&&a?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:o}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,r.jsx)(n,{onClose:o}),a.title&&(0,r.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.title})}),(0,r.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,r.jsx)(n,{onClose:o})]})]}):null}},3999:(e,t,a)=>{"use strict";a.d(t,{MH:()=>n,NC:()=>s,a1:()=>o});let r="_tnx_login_info_",s=(e,t)=>{localStorage.setItem(r,JSON.stringify({accessToken:e,userInfo:t}))},n=()=>{let e=localStorage.getItem(r);return e?JSON.parse(e):null},o=()=>{localStorage.removeItem(r)}},4678:(e,t,a)=>{"use strict";a.d(t,{$V:()=>s.$V,De:()=>s.De,Ed:()=>s.Ed,K4:()=>s.K4,Lv:()=>s.Lv,MA:()=>s.MA,MH:()=>r.MH,NC:()=>r.NC,Pj:()=>s.Pj,QT:()=>s.QT,Qf:()=>s.Qf,Sx:()=>s.Sx,Tv:()=>s.Tv,U8:()=>s.U8,Y3:()=>s.Y3,ZN:()=>s.ZN,_m:()=>s._m,a1:()=>r.a1,ct:()=>s.ct,e0:()=>s.e0,eK:()=>s.eK,fB:()=>s.fB,iY:()=>s.iY,lB:()=>s.lB,lo:()=>s.lo,q0:()=>s.q0,s2:()=>s.s2,tF:()=>s.tF,u1:()=>s.u1,yn:()=>s.yn});var r=a(3999),s=a(1886)},5705:(e,t,a)=>{Promise.resolve().then(a.bind(a,7470))},7470:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(5155),s=a(2115),n=a(5695),o=a(6766),c=a(993);let l=(0,a(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);function i(e){let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(u,{}),(0,r.jsx)("div",{className:"ml-14 w-full",children:t})]})})}let u=()=>{let[e,t]=(0,s.useState)(!1);(0,n.usePathname)();let a=(0,c.ii)(),i=(0,n.useRouter)();return(0,s.useEffect)(()=>{a.loaded&&(a.isAuthenticated||i.push("/auth/login"))},[a.isAuthenticated,a.loaded]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("nav",{className:"fixed top-0 left-0 w-14 h-full border-r bg-white space-y-8",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"h-16 flex items-center justify-center mx-auto",children:(0,r.jsx)("a",{href:"/zz/pages/portal/admin",className:"flex-none",children:(0,r.jsx)(o.default,{src:"/zz/pages/logo.png",alt:"Turnix Logo",width:36,height:36})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col h-full",children:[(0,r.jsx)("ul",{className:"px-4 text-sm font-medium flex-1 flex flex-col gap-2",children:d.map((e,t)=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:e.href,className:"relative flex items-center justify-center gap-x-2 text-gray-600 p-2 rounded-lg  hover:bg-gray-50 active:bg-gray-100 duration-150 group",children:[(0,r.jsx)("div",{className:"text-gray-500",children:e.icon}),(0,r.jsx)("span",{className:"absolute left-14 py-2 px-1.5 rounded-md whitespace-nowrap text-xs text-white bg-gray-800 hidden group-hover:inline-block group-focus:hidden duration-150",children:e.name})]})},t))}),(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"px-4 pb-4 text-sm font-medium gap-4 flex flex-col",children:[a.isAuthenticated&&a.userInfo&&(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/zz/pages/portal/admin/profile",className:"relative flex items-center justify-center text-gray-600 rounded-lg  hover:bg-gray-50 active:bg-gray-100 duration-150 group",children:(0,r.jsx)("img",{src:"/zz/profileImage/11/".concat(a.userInfo.name),alt:"profile",className:"w-8 h-8 rounded-full"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",onClick:()=>{a.logOut(),i.push("/auth/login")},className:"relative flex items-center justify-center p-0.5 text-gray-600 rounded-lg  hover:bg-gray-50 active:bg-gray-100 duration-150 group",children:(0,r.jsx)(l,{className:"w-6 h-6"})})})]})})]})]})})})},d=[{href:"/zz/pages/portal/admin",name:"Home",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",name:"home",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})},{href:"/zz/pages/portal/admin/spaces",name:"Spaces",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"})})},{href:"/zz/pages/portal/admin/store",name:"Store",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"})})},{href:"/zz/pages/portal/admin/users",name:"Users",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 7.5a3 3 0 11-6 0 3 3 0 016 0zm-6 3a6.75 6.75 0 00-6.75 6.75v1.5A2.25 2.25 0 006.75 21h10.5a2.25 2.25 0 002.25-2.25v-1.5A6.75 6.75 0 0010.5 10.5zM12 12a4.5 4.5 0 100-9 4.5 4.5 0 000 9z"})})},{href:"#",name:"Settings",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}]},8738:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,i:()=>c});var r=a(5155),s=a(2115),n=a(993);let o=(0,s.createContext)(null),c=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},l=e=>{let{children:t}=e,a=(0,n.bH)();return(0,r.jsx)(o.Provider,{value:a,children:t})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:i="",children:u,iconNode:d,...p}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:a,strokeWidth:l?24*Number(c)/Number(s):c,className:n("lucide",i),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...d.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let a=(0,r.forwardRef)((a,o)=>{let{className:l,...i}=a;return(0,r.createElement)(c,{ref:o,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...i})});return a.displayName=s(e),a}}},e=>{e.O(0,[464,212,441,964,977],()=>e(e.s=5705)),_N_E=e.O()}]);