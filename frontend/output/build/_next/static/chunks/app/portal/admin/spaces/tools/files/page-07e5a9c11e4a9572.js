(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{1380:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},1788:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2569:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(5155),r=a(7924),l=a(1539);let n=e=>(0,s.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 ".concat(e.className),children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:e.placeholder||"Search spaces...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.searchText,onChange:t=>e.setSearchText(t.target.value)}),(0,s.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 cursor-pointer hover:bg-gray-100 rounded-full transition-colors",onClick:e.onSearchButtonClick,children:(0,s.jsx)(l.A,{className:"w-5 h-5 text-gray-400"})})]})})})},2706:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155);let r=e=>(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100 w-full",children:[(0,s.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(e.Icon,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"h4",children:e.name}),(0,s.jsx)("p",{className:"p text-wrap",children:e.description})]})]})}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:e.rightContent})]})}),e.children]})},3620:(e,t,a)=>{Promise.resolve().then(a.bind(a,8396))},4653:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},5169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},5968:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},7071:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(2115);let r=e=>{let[t,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(!1),[n,o]=(0,s.useState)(null),i=async()=>{if(e.ready){l(!0),o(null);try{let t=await e.loader();a(t.data)}catch(e){o(e.message||"An error occurred")}finally{l(!1)}}};return(0,s.useEffect)(()=>{i()},[e.ready,...e.dependencies?e.dependencies:[]]),{data:t,loading:r,error:n,reload:i}}},8396:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115),l=a(1380),n=a(9869);let o=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var i=a(5968),c=a(4653),d=a(5169),x=a(9890),p=a(1788),u=a(2525),h=a(5695),g=a(2706),m=a(4678),b=a(7071),y=a(993),f=a(2569);function j(){let e=(0,h.useRouter)(),t=(0,h.useSearchParams)().get("id"),{modal:a}=(0,y.ii)();return t?(0,s.jsx)(v,{spaceId:parseInt(t)}):(0,s.jsx)(g.A,{Icon:l.A,name:"Space Files",description:"Select a space to view files",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No space selected"}),(0,s.jsx)("button",{onClick:()=>e.back(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Go Back"})]})})})}let v=e=>{let{spaceId:t}=e,[a,x]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[h,j]=(0,r.useState)("list"),[v,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),A=(0,r.useRef)(null),M=(0,y.ii)(),{modal:S}=M,_=(0,b.A)({loader:()=>(0,m.ct)(t,a),ready:M.isInitialized,dependencies:[a,p]}),P=(_.data||[]).filter(e=>{let t=e.path===a,s=e.name.toLowerCase().includes(p.toLowerCase());return t&&s}),D=P.filter(e=>e.is_folder),F=P.filter(e=>!e.is_folder),U=a.split("/").filter(Boolean),T=async e=>{try{let a=await (0,m.ZN)(t,e.id),s=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=s,r.setAttribute("download",e.name),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(s)}catch(e){console.error("Download failed:",e)}},z=async e=>{if(confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await (0,m.Sx)(t,e.id),_.reload()}catch(e){console.error("Delete failed:",e)}},L=async()=>{if(k.trim())try{await (0,m.Pj)(t,k.trim(),a),C(""),S.closeModal(),_.reload()}catch(e){console.error("Create folder failed:",e)}},R=()=>{let[e,l]=(0,r.useState)("regular"),[o,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(null),[x,p]=(0,r.useState)("curl"),u=async()=>{if(o.trim())try{let e=await (0,m.q0)(t,o.trim(),a,3600);d(e.data)}catch(e){console.error("Generate presigned URL failed:",e)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>l("regular"),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-all ".concat("regular"===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Regular Upload"}),(0,s.jsx)("button",{onClick:()=>l("presigned"),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-all ".concat("presigned"===e?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Presigned Upload"})]}),"regular"===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Regular Upload"}),(0,s.jsx)("p",{className:"text-sm text-blue-800",children:"Upload files directly from your device. Files will be uploaded immediately to the current directory."})]}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[(0,s.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:"Click to select files or drag and drop"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Multiple files supported"}),(0,s.jsx)("input",{ref:A,type:"file",multiple:!0,onChange:async e=>{let s=e.target.files;if(s&&0!==s.length){w(!0);try{for(let e of Array.from(s))await (0,m.eK)(t,e,a);_.reload(),S.closeModal()}catch(e){console.error("Upload failed:",e),alert("Upload failed: "+e)}finally{w(!1),A.current&&(A.current.value="")}}},className:"hidden"}),(0,s.jsx)("button",{onClick:()=>{var e;return null==(e=A.current)?void 0:e.click()},disabled:v,className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:v?"Uploading...":"Select Files"})]})]}),"presigned"===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"Presigned Upload"}),(0,s.jsx)("p",{className:"text-sm text-purple-800",children:"Generate a temporary token that can be used to upload files without authentication. Perfect for third-party integrations, CLI tools, or sharing upload capabilities securely."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"e.g., document.pdf",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The uploaded file must match this exact filename"})]}),(0,s.jsx)("button",{onClick:u,disabled:!o.trim(),className:"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50",children:"Generate Presigned Token"}),c&&(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:["✓ Token generated successfully! Expires in ",c.expiry," seconds"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presigned Token"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:c.presigned_token,readOnly:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c.presigned_token)},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload URL"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:"".concat(window.location.origin).concat(c.upload_url),readOnly:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin).concat(c.upload_url))},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Upload Examples"}),(0,s.jsxs)("div",{className:"flex gap-1 mb-3 overflow-x-auto",children:[(0,s.jsx)("button",{onClick:()=>p("curl"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("curl"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"cURL"}),(0,s.jsx)("button",{onClick:()=>p("javascript"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("javascript"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"JavaScript"}),(0,s.jsx)("button",{onClick:()=>p("python"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("python"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Python"}),(0,s.jsx)("button",{onClick:()=>p("browser"),className:"px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap ".concat("browser"===x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Browser"})]}),(0,s.jsxs)("div",{children:["curl"===x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:'curl -X POST \\\n  "'.concat(window.location.origin).concat(c.upload_url,'" \\\n  -F "file=@').concat(o,'"')}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText('curl -X POST "'.concat(window.location.origin).concat(c.upload_url,'" -F "file=@').concat(o,'"'))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Command"})]}),"javascript"===x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nfetch('".concat(window.location.origin).concat(c.upload_url,"', {\n  method: 'POST',\n  body: formData\n}).then(res => res.json())\n  .then(data => console.log(data));")}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nfetch('".concat(window.location.origin).concat(c.upload_url,"', {\n  method: 'POST',\n  body: formData\n}).then(res => res.json())\n  .then(data => console.log(data));"))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Code"})]}),"python"===x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"import requests\n\nwith open('".concat(o,"', 'rb') as f:\n    files = {'file': f}\n    response = requests.post(\n        '").concat(window.location.origin).concat(c.upload_url,"',\n        files=files\n    )\nprint(response.json())")}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("import requests\n\nwith open('".concat(o,"', 'rb') as f:\n    files = {'file': f}\n    response = requests.post(\n        '").concat(window.location.origin).concat(c.upload_url,"',\n        files=files\n    )\nprint(response.json())"))},className:"mt-2 text-xs text-purple-600 hover:text-purple-800",children:"Copy Code"})]}),"browser"===x&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Share this link with users to upload via web browser:"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:"".concat(window.location.origin,"/zz/pages/file-presigned?presigned-key=").concat(c.presigned_token),readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg font-mono text-xs"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin,"/zz/pages/file-presigned?presigned-key=").concat(c.presigned_token))},className:"absolute right-2 top-2 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",children:"Copy"})]}),(0,s.jsx)("a",{href:"/zz/pages/file-presigned?presigned-key=".concat(c.presigned_token),target:"_blank",rel:"noopener noreferrer",className:"inline-block text-xs text-purple-600 hover:text-purple-800",children:"Open Upload Page →"})]})]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:(0,s.jsx)("button",{onClick:()=>{S.closeModal(),i(""),d(null)},className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})})]})};return(0,s.jsx)(g.A,{Icon:l.A,name:"Space Files",description:"Managing files for space ".concat(t),rightContent:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{C(""),S.openModal({title:"Create New Folder",content:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder Name"}),(0,s.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),placeholder:"Enter folder name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?L():"Escape"===e.key&&(S.closeModal(),C(""))}})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>{S.closeModal(),C("")},className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:L,disabled:!k.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Create Folder"})]})]}),size:"md",onClose:()=>C("")})},className:"flex items-center gap-2 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),"New Folder"]}),(0,s.jsxs)("button",{onClick:()=>{S.openModal({title:"Upload Files",content:(0,s.jsx)(R,{}),size:"lg"})},disabled:v,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),v?"Uploading...":"Upload Files"]})]}),children:(0,s.jsxs)("div",{className:"card m-4 p-4 flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white",children:[(0,s.jsx)("div",{className:"flex w-full",children:(0,s.jsx)(f.A,{searchText:p,setSearchText:u,placeholder:"Search files...",onSearchButtonClick:()=>_.reload(),className:"w-full"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>j("list"),className:"p-2 rounded ".concat("list"===h?"bg-blue-100 text-blue-600":"text-gray-400"),children:(0,s.jsx)(i.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>j("grid"),className:"p-2 rounded ".concat("grid"===h?"bg-blue-100 text-blue-600":"text-gray-400"),children:(0,s.jsx)(c.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("nav",{className:"flex items-center space-x-2 text-sm rounded-lg bg-white p-4 border border-gray-200",children:[(0,s.jsx)("button",{onClick:()=>x(""),className:"text-blue-500 hover:text-blue-700",children:"Root"}),U.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"/"}),(0,s.jsx)("button",{onClick:()=>{x(U.slice(0,t+1).join("/"))},className:"text-blue-500 hover:text-blue-700",children:e})]},t))]}),a&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("button",{onClick:()=>{let e=a.split("/");e.pop(),x(e.join("/"))},className:"flex items-center gap-2 text-blue-500 hover:text-blue-700",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),"Back"]})}),_.loading?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Loading files..."})]})}):0===P.length?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No files found"})]})}):(0,s.jsxs)("div",{className:"grid"===h?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:[D.map(e=>(0,s.jsx)(N,{file:e,viewMode:h,onDoubleClick:()=>(e=>{x(a?"".concat(a,"/").concat(e.name):e.name)})(e),onDownload:()=>{},onDelete:()=>z(e)},e.id)),F.map(e=>(0,s.jsx)(N,{file:e,viewMode:h,onDoubleClick:()=>T(e),onDownload:()=>T(e),onDelete:()=>z(e)},e.id))]})]})})},N=e=>{let{file:t,viewMode:a,onDoubleClick:n,onDownload:o,onDelete:i}=e,[c,d]=(0,r.useState)(!1);return"grid"===a?(0,s.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer group relative",onDoubleClick:n,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 mb-2 flex items-center justify-center",children:t.is_folder?(0,s.jsx)(l.A,{className:"w-8 h-8 text-blue-500"}):(0,s.jsx)(x.A,{className:"w-8 h-8 text-gray-500"})}),(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate w-full",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:t.is_folder?"Folder":w(t.size)})]}),c&&!t.is_folder&&(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-100",children:(0,s.jsx)(p.A,{className:"w-3 h-3"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-100 text-red-500",children:(0,s.jsx)(u.A,{className:"w-3 h-3"})})]})]}):(0,s.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer group",onDoubleClick:n,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,s.jsx)("div",{className:"flex-shrink-0 mr-3",children:t.is_folder?(0,s.jsx)(l.A,{className:"w-5 h-5 text-blue-500"}):(0,s.jsx)(x.A,{className:"w-5 h-5 text-gray-500"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:t.is_folder?"Folder":"".concat(w(t.size)," • ").concat(k(t.created_at))})]}),c&&!t.is_folder&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"p-1 hover:bg-gray-200 rounded",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"p-1 hover:bg-gray-200 rounded text-red-500",children:(0,s.jsx)(u.A,{className:"w-4 h-4"})})]})]})},w=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]},k=e=>new Date(e).toLocaleDateString()},9869:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},9890:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])}},e=>{e.O(0,[464,305,441,964,977],()=>e(e.s=3620)),_N_E=e.O()}]);