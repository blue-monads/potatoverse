(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9778],{646:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1007:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2848:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),l=t(5695),n=t(993),i=t(1886),o=t(4861),d=t(646),c=t(8883),u=t(1007),m=t(2919);let h=(0,t(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var x=t(2657);function p(){(0,n.ii)();let e=(0,l.useRouter)(),s=(0,l.useSearchParams)().get("token"),[t,p]=(0,a.useState)(null),[f,b]=(0,a.useState)(!0),[y,g]=(0,a.useState)(!1),[w,v]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[k,A]=(0,a.useState)(!1),[C,P]=(0,a.useState)({name:"",username:"",password:"",confirmPassword:""});(0,a.useEffect)(()=>{if(!s){v("Invalid invite link"),b(!1);return}(async()=>{try{let e=await (0,i.ir)(s);p(e.data)}catch(s){var e,t;v((null==s||null==(t=s.response)||null==(e=t.data)?void 0:e.error)||(null==s?void 0:s.message)||"Invalid or expired invite")}finally{b(!1)}})()},[s]);let S=(e,s)=>{P(t=>({...t,[e]:s})),v("")},q=async t=>{if(t.preventDefault(),(C.name.trim()?C.username.trim()?C.username.length<3?(v("Username must be at least 3 characters"),!1):C.password?C.password.length<6?(v("Password must be at least 6 characters"),!1):C.password===C.confirmPassword||(v("Passwords do not match"),!1):(v("Password is required"),!1):(v("Username is required"),!1):(v("Name is required"),!1))&&s){g(!0),v("");try{await (0,i.Ql)(s,{name:C.name,username:C.username,password:C.password}),N(!0),setTimeout(()=>{e.push("/auth/login")},3e3)}catch(e){var r,a;v((null==e||null==(a=e.response)||null==(r=a.data)?void 0:r.message)||(null==e?void 0:e.message)||"Failed to create account")}finally{g(!1)}}};return f?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading invite information..."})]})}):w&&!t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,r.jsx)(o.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Invite"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:w}),(0,r.jsx)("button",{onClick:()=>e.push("/auth/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Login"})]})}):j?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,r.jsx)(d.A,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. Redirecting to login..."}),(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.A,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Registration"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["You've been invited to join as a ",(0,r.jsx)("span",{className:"font-medium text-blue-600",children:null==t?void 0:t.role})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:null==t?void 0:t.email})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:q,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"name",type:"text",value:C.name,onChange:e=>S("name",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"username",type:"text",value:C.username,onChange:e=>S("username",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"password",type:k?"text":"password",value:C.password,onChange:e=>S("password",e.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>A(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k?(0,r.jsx)(h,{className:"w-4 h-4"}):(0,r.jsx)(x.A,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:C.confirmPassword,onChange:e=>S("confirmPassword",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]})]}),w&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(o.A,{className:"w-5 h-5 text-red-400 mr-2 mt-0.5"}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:w})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,r.jsx)("button",{type:"button",onClick:()=>e.push("/auth/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})}},2919:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4861:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},8883:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9193:(e,s,t)=>{Promise.resolve().then(t.bind(t,2848))},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(2115);let a=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...n,width:a,height:a,stroke:t,strokeWidth:o?24*Number(i)/Number(a):i,className:l("lucide",d),...!c&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),o=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:o,...d}=t;return(0,r.createElement)(i,{ref:n,iconNode:s,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return t.displayName=a(e),t}}},e=>{e.O(0,[3464,8738,8441,5964,7358],()=>e(e.s=9193)),_N_E=e.O()}]);