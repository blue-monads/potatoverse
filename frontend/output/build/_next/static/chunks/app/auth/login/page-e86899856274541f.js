(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{993:(e,t,s)=>{"use strict";s.d(t,{ii:()=>n.i,bH:()=>l});var r=s(4678),a=s(2115);let l=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[n,o]=(0,a.useState)(null),i=(()=>{let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null),l=(0,a.useCallback)(e=>{r(e),t(!0)},[]),n=(0,a.useCallback)(()=>{t(!1),(null==s?void 0:s.onClose)&&s.onClose(),setTimeout(()=>{r(null)},150)},[s]),o=(0,a.useCallback)(e=>{s&&r({...s,...e})},[s]);return{isOpen:e,modalContent:s,openModal:l,closeModal:n,updateModalContent:o}})(),[c,d]=(0,a.useState)(!1),u=()=>{let e=(0,r.MH)();(null==e?void 0:e.accessToken)?(o(e.userInfo),l(!0)):l(!1),t(!0)};return(0,a.useEffect)(()=>{e&&s&&(c||((0,r.Y3)(),d(!0)))},[e,s]),(0,a.useEffect)(()=>{u()},[]),{loaded:e,isAuthenticated:s,checkToken:u,logOut:()=>{(0,r.a1)(),o(null),l(!1)},logIn:(e,t)=>{(0,r.NC)(e,t),u()},userInfo:n,modal:i,isInitialized:c}};var n=s(8738);s(3588)},1513:(e,t,s)=>{Promise.resolve().then(s.bind(s,5496))},3588:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(8738);let l=e=>{let{onClose:t}=e;return(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,r.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},n=()=>{let{modal:e}=(0,a.i)(),{isOpen:t,modalContent:s,closeModal:n}=e;return t&&s?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:n}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(s.size)," max-h-[90vh] overflow-hidden"),children:[(0,r.jsx)(l,{onClose:n}),s.title&&(0,r.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:s.title})}),(0,r.jsx)("div",{className:"p-6",children:s.content}),!s.title&&(0,r.jsx)(l,{onClose:n})]})]}):null}},4678:(e,t,s)=>{"use strict";s.d(t,{$V:()=>a.$V,AC:()=>a.AC,B9:()=>a.B9,Cs:()=>a.Cs,De:()=>a.De,Ed:()=>a.Ed,H1:()=>a.H1,H4:()=>a.H4,K4:()=>a.K4,Kh:()=>a.Kh,Lv:()=>a.Lv,MA:()=>a.MA,MH:()=>r.MH,NC:()=>r.NC,Nv:()=>a.Nv,Om:()=>a.Om,P6:()=>a.P6,Pj:()=>a.Pj,QT:()=>a.QT,Qf:()=>a.Qf,Qk:()=>a.Qk,R5:()=>a.R5,Sx:()=>a.Sx,T:()=>a.T,TT:()=>a.TT,TY:()=>a.TY,Tv:()=>a.Tv,U8:()=>a.U8,VG:()=>a.VG,Y3:()=>a.Y3,ZN:()=>a.ZN,_Q:()=>a._Q,_m:()=>a._m,a1:()=>r.a1,cZ:()=>a.cZ,ct:()=>a.ct,e0:()=>a.e0,eK:()=>a.eK,fB:()=>a.fB,iY:()=>a.iY,lB:()=>a.lB,lo:()=>a.lo,q0:()=>a.q0,qf:()=>a.qf,rf:()=>a.rf,s2:()=>a.s2,tF:()=>a.tF,to:()=>a.to,u1:()=>a.u1,uP:()=>a.uP,yn:()=>a.yn,z6:()=>a.z6});var r=s(3999),a=s(1886)},5496:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(6766);let l=e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("main",{className:"w-full flex",children:[(0,r.jsxs)("div",{className:"relative flex-1 hidden items-center justify-center h-screen from-primary-700-300 to-secondary-700-300 bg-gradient-to-b lg:flex",children:[(0,r.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,r.jsx)(a.default,{src:"/zz/pages/logo.png",alt:"Potatoverse Logo",width:200,height:200}),(0,r.jsxs)("div",{className:" mt-16 space-y-3",children:[(0,r.jsx)("h3",{className:"text-white text-3xl font-bold",children:"Potatoverse"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Platfrom for your apps."})]})]}),(0,r.jsx)("div",{className:"absolute inset-0 my-auto h-[500px] "})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center h-screen",children:e.children})]})});var n=s(2115),o=s(1886),i=s(5695),c=s(993);function d(){let e=(0,i.useSearchParams)(),t=(0,c.ii)(),[s,d]=(0,n.useState)("demo@example.com"),[u,x]=(0,n.useState)("demogodTheGreat_123"),[m,h]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),p=(0,i.useRouter)(),v=async r=>{r.preventDefault(),h(!0);try{let r=await (0,o.iD)(s,u);if(200!==r.status)return void g("An unknown error occurred");let a=r.data.access_token;t.logIn(a,r.data.user_info),console.log("@saveLoginData",r.data.user_info),(0,o.Y3)();let l=e.get("after_login_redirect_back_url");l?p.push(l):p.push("/portal/admin")}catch(e){g(e instanceof Error?e.message:"An unknown error occurred")}finally{h(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l,{children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8 px-4 bg-white text-gray-600 sm:px-0",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(a.default,{className:"lg:hidden",src:"/zz/pages/logo.png",alt:"Potatoverse Logo",width:200,height:200}),(0,r.jsx)("div",{className:"mt-5 space-y-2",children:(0,r.jsx)("h3",{className:"text-gray-800 text-2xl font-bold sm:text-3xl",children:"Login"})})]}),(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"font-medium",children:"Username"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-primary-100 shadow-sm rounded-lg",value:s,onChange:e=>d(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"font-medium",children:"Password"}),(0,r.jsx)("input",{type:"password",required:!0,className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-primary-100 shadow-sm rounded-lg",value:u,onChange:e=>x(e.target.value)})]}),f&&(0,r.jsx)("p",{className:"text-red-500",children:f}),(0,r.jsx)("button",{onClick:v,disabled:m,className:"w-full px-4 py-2 text-white font-medium bg-primary-700-300  rounded-lg duration-150 hover:opacity-80",children:m?"Loading...":"Login"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsxs)("p",{className:"",children:["Need account ? ",(0,r.jsx)("a",{href:"/zz/pages/auth/signup/open",className:"font-medium text-primary-contrast-200-800",children:"Sign up"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("a",{className:"w-full text-xs text-white font-medium bg-secondary-700-300 duration-150 btn font-sans hover:opacity-80",href:"/zz/pages/auth/forgot-password",children:"Forgot password"})})]})]})})})}},8738:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,i:()=>o});var r=s(5155),a=s(2115),l=s(993);let n=(0,a.createContext)(null),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},i=e=>{let{children:t}=e,s=(0,l.bH)();return(0,r.jsx)(n.Provider,{value:s,children:t})}}},e=>{e.O(0,[3464,4212,1886,8441,5964,7358],()=>e(e.s=1513)),_N_E=e.O()}]);