(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{993:(e,t,a)=>{"use strict";a.d(t,{ii:()=>c.i,bH:()=>r});var s=a(4678),n=a(2115);let r=()=>{let[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1),[c,o]=(0,n.useState)(null),l=(()=>{let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(null),r=(0,n.useCallback)(e=>{s(e),t(!0)},[]),c=(0,n.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{s(null)},150)},[a]),o=(0,n.useCallback)(e=>{a&&s({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:r,closeModal:c,updateModalContent:o}})(),[i,d]=(0,n.useState)(!1),u=()=>{let e=(0,s.MH)();(null==e?void 0:e.accessToken)?(o(e.userInfo),r(!0)):r(!1),t(!0)};return(0,n.useEffect)(()=>{e&&a&&(i||((0,s.Y3)(),d(!0)))},[e,a]),(0,n.useEffect)(()=>{u()},[]),{loaded:e,isAuthenticated:a,checkToken:u,logOut:()=>{(0,s.a1)(),o(null),r(!1)},logIn:(e,t)=>{(0,s.NC)(e,t),u()},userInfo:c,modal:l,isInitialized:i}};var c=a(8738);a(3588)},1513:(e,t,a)=>{Promise.resolve().then(a.bind(a,5496))},1886:(e,t,a)=>{"use strict";a.d(t,{$V:()=>_,$c:()=>u,BA:()=>y,De:()=>L,Ed:()=>N,IF:()=>w,K4:()=>x,Lv:()=>P,MA:()=>D,Oz:()=>d,Pj:()=>K,QD:()=>p,QT:()=>V,Qf:()=>Q,Ql:()=>f,Sx:()=>O,Tv:()=>E,U8:()=>M,Y3:()=>c,ZN:()=>I,_m:()=>h,ct:()=>Y,e0:()=>F,eK:()=>q,eq:()=>g,fB:()=>z,iD:()=>o,iJ:()=>v,iQ:()=>b,iY:()=>B,ir:()=>m,iu:()=>k,j3:()=>j,lB:()=>H,lo:()=>l,q0:()=>U,s2:()=>S,tF:()=>C,u1:()=>A,wz:()=>i,yn:()=>T});var s=a(3464),n=a(3999);let r=s.A.create({baseURL:"/zz/api"}),c=()=>{let e=(0,n.MH)(),t={"Content-Type":"application/json","X-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),r=s.A.create({baseURL:"/zz/api",headers:t})},o=async(e,t)=>r.post("/core/auth/login",{username:e,password:t}),l=async()=>r.get("/core/user"),i=async e=>r.get("/core/user/".concat(e)),d=async()=>r.get("/core/user/invites"),u=async e=>r.post("/core/user/invites",e),p=async e=>r.delete("/core/user/invites/".concat(e)),g=async e=>r.post("/core/user/invites/".concat(e,"/resend")),m=async e=>r.get("/core/auth/invite/".concat(e)),f=async(e,t)=>r.post("/core/auth/invite/".concat(e),t),h=async e=>r.post("/core/user/create",e),x=async()=>r.get("/core/user/groups"),y=async e=>r.post("/core/user/groups",e),v=async(e,t)=>r.put("/core/user/groups/".concat(e),t),w=async e=>r.delete("/core/user/groups/".concat(e)),b=async e=>r.get("/core/self/portalData/".concat(e)),j=async()=>r.get("/core/self/info"),k=async e=>r.put("/core/self/bio",{bio:e}),N=async e=>r.post("/core/package/install",{url:e}),C=async e=>r.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),z=async e=>r.post("/core/package/install/embed",{name:e}),S=async e=>r.delete("/core/package/".concat(e)),_=async()=>r.get("/core/package/list"),T=async()=>r.get("/core/space/installed"),L=async e=>r.get("/core/engine/space_info/".concat(e)),A=async(e,t)=>r.post("/core/space/authorize/".concat(e),{space_id:t}),D=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.get("/core/package/".concat(e,"/files"),{params:{path:t}})},E=async(e,t)=>r.get("/core/package/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),F=async(e,t)=>r.delete("/core/package/".concat(e,"/files/").concat(t)),M=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),r.post("/core/package/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},Q=async e=>r.get("/core/space/".concat(e,"/kv")),B=async(e,t)=>r.post("/core/space/".concat(e,"/kv"),t),H=async(e,t,a)=>r.put("/core/space/".concat(e,"/kv/").concat(t),a),P=async(e,t)=>r.delete("/core/space/".concat(e,"/kv/").concat(t)),Y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.get("/core/space/".concat(e,"/files"),{params:{path:t}})},I=async(e,t)=>r.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),O=async(e,t)=>r.delete("/core/space/".concat(e,"/files/").concat(t)),q=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),r.post("/core/space/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},K=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return r.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},U=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;return r.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:s})},V=async(e,t)=>{let a=new FormData;return a.append("file",t),s.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})}},3588:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(5155),n=a(8738);let r=e=>{let{onClose:t}=e;return(0,s.jsx)("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,s.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},c=()=>{let{modal:e}=(0,n.i)(),{isOpen:t,modalContent:a,closeModal:c}=e;return t&&a?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:c}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,s.jsx)(r,{onClose:c}),a.title&&(0,s.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.title})}),(0,s.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,s.jsx)(r,{onClose:c})]})]}):null}},3999:(e,t,a)=>{"use strict";a.d(t,{MH:()=>r,NC:()=>n,a1:()=>c});let s="_tnx_login_info_",n=(e,t)=>{localStorage.setItem(s,JSON.stringify({accessToken:e,userInfo:t}))},r=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):null},c=()=>{localStorage.removeItem(s)}},4678:(e,t,a)=>{"use strict";a.d(t,{$V:()=>n.$V,De:()=>n.De,Ed:()=>n.Ed,K4:()=>n.K4,Lv:()=>n.Lv,MA:()=>n.MA,MH:()=>s.MH,NC:()=>s.NC,Pj:()=>n.Pj,QT:()=>n.QT,Qf:()=>n.Qf,Sx:()=>n.Sx,Tv:()=>n.Tv,U8:()=>n.U8,Y3:()=>n.Y3,ZN:()=>n.ZN,_m:()=>n._m,a1:()=>s.a1,ct:()=>n.ct,e0:()=>n.e0,eK:()=>n.eK,fB:()=>n.fB,iY:()=>n.iY,lB:()=>n.lB,lo:()=>n.lo,q0:()=>n.q0,s2:()=>n.s2,tF:()=>n.tF,u1:()=>n.u1,yn:()=>n.yn});var s=a(3999),n=a(1886)},5496:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),n=a(6766);let r=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{className:"w-full flex",children:[(0,s.jsxs)("div",{className:"relative flex-1 hidden items-center justify-center h-screen from-primary-700-300 to-secondary-700-300 bg-gradient-to-b lg:flex",children:[(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,s.jsx)(n.default,{src:"/zz/pages/logo.png",alt:"Turnix Logo",width:200,height:200}),(0,s.jsxs)("div",{className:" mt-16 space-y-3",children:[(0,s.jsx)("h3",{className:"text-white text-3xl font-bold",children:"Turnix"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Platfrom for your apps."})]})]}),(0,s.jsx)("div",{className:"absolute inset-0 my-auto h-[500px] "})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center h-screen",children:e.children})]})});var c=a(2115),o=a(1886),l=a(5695),i=a(993);function d(){let e=(0,l.useSearchParams)(),t=(0,i.ii)(),[a,d]=(0,c.useState)("demo@example.com"),[u,p]=(0,c.useState)("demogodTheGreat_123"),[g,m]=(0,c.useState)(!1),[f,h]=(0,c.useState)(""),x=(0,l.useRouter)(),y=async s=>{s.preventDefault(),m(!0);try{let s=await (0,o.iD)(a,u);if(200!==s.status)return void h("An unknown error occurred");let n=s.data.access_token;t.logIn(n,s.data.user_info),console.log("@saveLoginData",s.data.user_info),(0,o.Y3)();let r=e.get("after_login_redirect_back_url");r?x.push(r):x.push("/portal/admin")}catch(e){h(e instanceof Error?e.message:"An unknown error occurred")}finally{m(!1)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r,{children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-8 px-4 bg-white text-gray-600 sm:px-0",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)(n.default,{className:"lg:hidden",src:"/zz/pages/logo.png",alt:"Turnix Logo",width:200,height:200}),(0,s.jsx)("div",{className:"mt-5 space-y-2",children:(0,s.jsx)("h3",{className:"text-gray-800 text-2xl font-bold sm:text-3xl",children:"Login"})})]}),(0,s.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"font-medium",children:"Username"}),(0,s.jsx)("input",{type:"text",required:!0,className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-primary-100 shadow-sm rounded-lg",value:a,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"font-medium",children:"Password"}),(0,s.jsx)("input",{type:"password",required:!0,className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-primary-100 shadow-sm rounded-lg",value:u,onChange:e=>p(e.target.value)})]}),f&&(0,s.jsx)("p",{className:"text-red-500",children:f}),(0,s.jsx)("button",{onClick:y,disabled:g,className:"w-full px-4 py-2 text-white font-medium bg-primary-700-300  rounded-lg duration-150 hover:opacity-80",children:g?"Loading...":"Login"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("p",{className:"",children:["Need account ? ",(0,s.jsx)("a",{href:"/zz/pages/auth/signup/open",className:"font-medium text-primary-contrast-200-800",children:"Sign up"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{className:"w-full text-xs text-white font-medium bg-secondary-700-300 duration-150 btn font-sans hover:opacity-80",href:"/zz/pages/auth/forgot-password",children:"Forgot password"})})]})]})})})}},8738:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,i:()=>o});var s=a(5155),n=a(2115),r=a(993);let c=(0,n.createContext)(null),o=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},l=e=>{let{children:t}=e,a=(0,r.bH)();return(0,s.jsx)(c.Provider,{value:a,children:t})}}},e=>{e.O(0,[464,212,441,964,977],()=>e(e.s=1513)),_N_E=e.O()}]);