(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9778],{646:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},993:(e,t,s)=>{"use strict";s.d(t,{ii:()=>n.i,bH:()=>l});var r=s(4678),a=s(2115);let l=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[n,o]=(0,a.useState)(null),i=(()=>{let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null),l=(0,a.useCallback)(e=>{r(e),t(!0)},[]),n=(0,a.useCallback)(()=>{t(!1),(null==s?void 0:s.onClose)&&s.onClose(),setTimeout(()=>{r(null)},150)},[s]),o=(0,a.useCallback)(e=>{s&&r({...s,...e})},[s]);return{isOpen:e,modalContent:s,openModal:l,closeModal:n,updateModalContent:o}})(),[c,d]=(0,a.useState)(!1),u=()=>{let e=(0,r.MH)();(null==e?void 0:e.accessToken)?(o(e.userInfo),l(!0)):l(!1),t(!0)};return(0,a.useEffect)(()=>{e&&s&&(c||((0,r.Y3)(),d(!0)))},[e,s]),(0,a.useEffect)(()=>{u()},[]),{loaded:e,isAuthenticated:s,checkToken:u,logOut:()=>{(0,r.a1)(),o(null),l(!1)},logIn:(e,t)=>{(0,r.NC)(e,t),u()},userInfo:n,modal:i,isInitialized:c}};var n=s(8738);s(3588)},1007:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2848:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(5155),a=s(2115),l=s(5695),n=s(993),o=s(1886),i=s(4861),c=s(646),d=s(8883),u=s(1007),m=s(2919);let x=(0,s(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var h=s(2657);function f(){(0,n.ii)();let e=(0,l.useRouter)(),t=(0,l.useSearchParams)().get("token"),[s,f]=(0,a.useState)(null),[p,b]=(0,a.useState)(!0),[g,y]=(0,a.useState)(!1),[w,v]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[A,P]=(0,a.useState)({name:"",username:"",password:"",confirmPassword:""});(0,a.useEffect)(()=>{if(!t){v("Invalid invite link"),b(!1);return}(async()=>{try{let e=await (0,o.ir)(t);f(e.data)}catch(t){var e,s;v((null==t||null==(s=t.response)||null==(e=s.data)?void 0:e.error)||(null==t?void 0:t.message)||"Invalid or expired invite")}finally{b(!1)}})()},[t]);let S=(e,t)=>{P(s=>({...s,[e]:t})),v("")},L=async s=>{if(s.preventDefault(),(A.name.trim()?A.username.trim()?A.username.length<3?(v("Username must be at least 3 characters"),!1):A.password?A.password.length<6?(v("Password must be at least 6 characters"),!1):A.password===A.confirmPassword||(v("Passwords do not match"),!1):(v("Password is required"),!1):(v("Username is required"),!1):(v("Name is required"),!1))&&t){y(!0),v("");try{await (0,o.Ql)(t,{name:A.name,username:A.username,password:A.password}),N(!0),setTimeout(()=>{e.push("/auth/login")},3e3)}catch(e){var r,a;v((null==e||null==(a=e.response)||null==(r=a.data)?void 0:r.message)||(null==e?void 0:e.message)||"Failed to create account")}finally{y(!1)}}};return p?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading invite information..."})]})}):w&&!s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,r.jsx)(i.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Invite"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:w}),(0,r.jsx)("button",{onClick:()=>e.push("/auth/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Login"})]})}):j?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,r.jsx)(c.A,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. Redirecting to login..."}),(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.A,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Registration"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["You've been invited to join as a ",(0,r.jsx)("span",{className:"font-medium text-blue-600",children:null==s?void 0:s.role})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:null==s?void 0:s.email})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:L,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"name",type:"text",value:A.name,onChange:e=>S("name",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"username",type:"text",value:A.username,onChange:e=>S("username",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"password",type:k?"text":"password",value:A.password,onChange:e=>S("password",e.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>C(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k?(0,r.jsx)(x,{className:"w-4 h-4"}):(0,r.jsx)(h.A,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:A.confirmPassword,onChange:e=>S("confirmPassword",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]})]}),w&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(i.A,{className:"w-5 h-5 text-red-400 mr-2 mt-0.5"}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:w})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,r.jsx)("button",{type:"button",onClick:()=>e.push("/auth/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})}},2919:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3588:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(8738);let l=e=>{let{onClose:t}=e;return(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,r.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},n=()=>{let{modal:e}=(0,a.i)(),{isOpen:t,modalContent:s,closeModal:n}=e;return t&&s?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:n}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(s.size)," max-h-[90vh] overflow-hidden"),children:[(0,r.jsx)(l,{onClose:n}),s.title&&(0,r.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:s.title})}),(0,r.jsx)("div",{className:"p-6",children:s.content}),!s.title&&(0,r.jsx)(l,{onClose:n})]})]}):null}},4678:(e,t,s)=>{"use strict";s.d(t,{$V:()=>a.$V,AC:()=>a.AC,B9:()=>a.B9,Cs:()=>a.Cs,De:()=>a.De,Ed:()=>a.Ed,H1:()=>a.H1,H4:()=>a.H4,K4:()=>a.K4,Kh:()=>a.Kh,Lv:()=>a.Lv,MA:()=>a.MA,MH:()=>r.MH,NC:()=>r.NC,Nv:()=>a.Nv,Om:()=>a.Om,P6:()=>a.P6,Pj:()=>a.Pj,QT:()=>a.QT,Qf:()=>a.Qf,Qk:()=>a.Qk,R5:()=>a.R5,Sx:()=>a.Sx,T:()=>a.T,TT:()=>a.TT,TY:()=>a.TY,Tv:()=>a.Tv,U8:()=>a.U8,VG:()=>a.VG,Y3:()=>a.Y3,ZN:()=>a.ZN,_Q:()=>a._Q,_m:()=>a._m,a1:()=>r.a1,cZ:()=>a.cZ,ct:()=>a.ct,e0:()=>a.e0,eK:()=>a.eK,fB:()=>a.fB,iY:()=>a.iY,lB:()=>a.lB,lo:()=>a.lo,q0:()=>a.q0,qf:()=>a.qf,rf:()=>a.rf,s2:()=>a.s2,tF:()=>a.tF,to:()=>a.to,u1:()=>a.u1,uP:()=>a.uP,yn:()=>a.yn,z6:()=>a.z6});var r=s(3999),a=s(1886)},4861:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},8738:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,i:()=>o});var r=s(5155),a=s(2115),l=s(993);let n=(0,a.createContext)(null),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},i=e=>{let{children:t}=e,s=(0,l.bH)();return(0,r.jsx)(n.Provider,{value:s,children:t})}},8883:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9193:(e,t,s)=>{Promise.resolve().then(s.bind(s,2848))},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:i?24*Number(o)/Number(a):o,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:i,...c}=s;return(0,r.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return s.displayName=a(e),s}}},e=>{e.O(0,[3464,1886,8441,5964,7358],()=>e(e.s=9193)),_N_E=e.O()}]);