"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8738],{993:(e,t,a)=>{a.d(t,{ii:()=>o.i,bH:()=>n});var s=a(4678),c=a(2115);let n=()=>{let[e,t]=(0,c.useState)(!1),[a,n]=(0,c.useState)(!1),[o,r]=(0,c.useState)(null),i=(()=>{let[e,t]=(0,c.useState)(!1),[a,s]=(0,c.useState)(null),n=(0,c.useCallback)(e=>{s(e),t(!0)},[]),o=(0,c.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{s(null)},150)},[a]),r=(0,c.useCallback)(e=>{a&&s({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:n,closeModal:o,updateModalContent:r}})(),[l,p]=(0,c.useState)(!1),d=()=>{let e=(0,s.MH)();(null==e?void 0:e.accessToken)?(r(e.userInfo),n(!0)):n(!1),t(!0)};return(0,c.useEffect)(()=>{e&&a&&(l||((0,s.Y3)(),p(!0)))},[e,a]),(0,c.useEffect)(()=>{d()},[]),{loaded:e,isAuthenticated:a,checkToken:d,logOut:()=>{(0,s.a1)(),r(null),n(!1)},logIn:(e,t)=>{(0,s.NC)(e,t),d()},userInfo:o,modal:i,isInitialized:l}};var o=a(8738);a(3588)},1886:(e,t,a)=>{a.d(t,{$V:()=>z,$c:()=>d,AC:()=>j,B9:()=>Y,BA:()=>_,Cs:()=>ee,De:()=>H,Ed:()=>C,H1:()=>ep,H4:()=>ey,IF:()=>x,K4:()=>m,Kh:()=>ed,Ku:()=>eC,Lv:()=>E,MA:()=>F,Nv:()=>en,Om:()=>es,Oz:()=>p,P6:()=>el,Pj:()=>Z,QD:()=>u,QT:()=>X,Qf:()=>K,Qk:()=>ec,Ql:()=>f,R5:()=>M,Sx:()=>V,T:()=>ea,TT:()=>$,TY:()=>et,Tv:()=>J,U8:()=>P,UP:()=>ek,VG:()=>Q,Y3:()=>o,YT:()=>B,ZN:()=>U,_Q:()=>ew,_m:()=>v,ct:()=>R,dv:()=>em,e0:()=>L,eK:()=>G,eq:()=>y,fB:()=>N,gw:()=>eh,iD:()=>r,iJ:()=>h,iQ:()=>k,iY:()=>I,ir:()=>g,iu:()=>w,j3:()=>b,lB:()=>q,lo:()=>i,mm:()=>e_,no:()=>ef,q0:()=>W,qR:()=>ex,qf:()=>eo,rf:()=>eu,s2:()=>S,sI:()=>ev,si:()=>eb,tF:()=>T,to:()=>er,u1:()=>D,uP:()=>O,wz:()=>l,yj:()=>eg,yn:()=>A,z6:()=>ei});var s=a(3464),c=a(3999);let n=s.A.create({baseURL:"/zz/api"}),o=()=>{let e=(0,c.MH)(),t={"Content-Type":"application/json","X-Clacks-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),n=s.A.create({baseURL:"/zz/api",headers:t})},r=async(e,t)=>n.post("/core/auth/login",{username:e,password:t}),i=async()=>n.get("/core/user"),l=async e=>n.get("/core/user/".concat(e)),p=async()=>n.get("/core/user/invites"),d=async e=>n.post("/core/user/invites",e),u=async e=>n.delete("/core/user/invites/".concat(e)),y=async e=>n.post("/core/user/invites/".concat(e,"/resend")),g=async e=>n.get("/core/auth/invite/".concat(e)),f=async(e,t)=>n.post("/core/auth/invite/".concat(e),t),v=async e=>n.post("/core/user/create",e),m=async()=>n.get("/core/user/groups"),_=async e=>n.post("/core/user/groups",e),h=async(e,t)=>n.put("/core/user/groups/".concat(e),t),x=async e=>n.delete("/core/user/groups/".concat(e)),k=async e=>n.get("/core/self/portalData/".concat(e)),b=async()=>n.get("/core/self/info"),w=async e=>n.put("/core/self/bio",{bio:e}),C=async e=>n.post("/core/package/install",{url:e}),T=async e=>n.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),N=async(e,t)=>n.post("/core/package/install/embed",{name:e,repo_slug:t}),S=async e=>n.delete("/core/package/".concat(e)),j=async e=>n.post("/core/package/".concat(e,"/dev-token")),z=async e=>{let t=e?"?repo=".concat(encodeURIComponent(e)):"";return n.get("/core/package/list".concat(t))},O=async()=>n.get("/core/repo/list"),A=async()=>n.get("/core/space/installed"),Q=async e=>n.get("/core/package/".concat(e,"/info")),H=async(e,t)=>{let a=encodeURIComponent(t);return n.get("/core/engine/space_info/".concat(e,"?host_name=").concat(a.toString()))},B=async(e,t)=>{let a=window.location.hostname;return n.get("/core/engine/derivehost/".concat(e,"?host_name=").concat(a,"&space_id=").concat(t))},D=async(e,t)=>n.post("/core/space/authorize/".concat(e),{space_id:t}),F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/vpackage/".concat(e,"/files"),{params:{path:t}})},J=async(e,t)=>n.get("/core/vpackage/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),L=async(e,t)=>n.delete("/core/vpackage/".concat(e,"/files/").concat(t)),P=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/vpackage/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},Y=async function(e,t,a,s){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await L(e,t);let o=new File([new Blob([a],{type:"text/plain"})],s,{type:"text/plain"}),r=new FormData;return r.append("file",o),r.append("path",c),n.post("/core/vpackage/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},K=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return n.get("/core/space/".concat(e,"/kv"),{params:{offset:t,limit:a}})},M=async(e,t)=>n.get("/core/space/".concat(e,"/kv/").concat(t)),I=async(e,t)=>n.post("/core/space/".concat(e,"/kv"),t),q=async(e,t,a)=>n.put("/core/space/".concat(e,"/kv/").concat(t),a),E=async(e,t)=>n.delete("/core/space/".concat(e,"/kv/").concat(t)),R=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.get("/core/space/".concat(e,"/files"),{params:{path:t}})},U=async(e,t)=>n.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),V=async(e,t)=>n.delete("/core/space/".concat(e,"/files/").concat(t)),G=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=new FormData;return s.append("file",t),s.append("path",a),n.post("/core/space/".concat(e,"/files/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},$=async function(e,t,a,s){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await V(e,t);let o=new File([new Blob([a],{type:"text/plain"})],s,{type:"text/plain"}),r=new FormData;return r.append("file",o),r.append("path",c),n.post("/core/space/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},Z=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},W=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;return n.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:s})},X=async(e,t)=>{let a=new FormData;return a.append("file",t),s.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})},ee=async()=>n.get("/core/capability/types"),et=async(e,t,a)=>n.get("/core/space/".concat(e,"/capabilities"),{params:{...void 0!==t&&{space_id:t},...a&&{capability_type:a}}}),ea=async(e,t)=>n.post("/core/space/".concat(e,"/capabilities"),t),es=async(e,t,a)=>n.put("/core/space/".concat(e,"/capabilities/").concat(t),a),ec=async(e,t)=>n.delete("/core/space/".concat(e,"/capabilities/").concat(t)),en=async(e,t,a,s)=>n.get("/core/space/".concat(e,"/users"),{params:{...void 0!==t&&{space_id:t},...void 0!==a&&{user_id:a},...s&&{scope:s}}}),eo=async(e,t)=>n.post("/core/space/".concat(e,"/users"),t),er=async(e,t,a)=>n.put("/core/space/".concat(e,"/users/").concat(t),a),ei=async(e,t)=>n.delete("/core/space/".concat(e,"/users/").concat(t)),el=async(e,t,a)=>n.get("/core/space/".concat(e,"/events"),{params:{...void 0!==t&&{space_id:t},...a&&{event_key:a}}}),ep=async(e,t)=>n.get("/core/space/".concat(e,"/events/").concat(t)),ed=async(e,t)=>{let a={event_key:t.event_key,target_type:t.target_type,...void 0!==t.space_id&&{space_id:t.space_id},...t.target_endpoint&&{target_endpoint:t.target_endpoint},...t.target_options&&{target_options:"string"==typeof t.target_options?t.target_options:JSON.stringify(t.target_options)},...t.target_code&&{target_code:t.target_code},...void 0!==t.target_space_id&&{target_space_id:t.target_space_id},...t.rules&&{rules:"string"==typeof t.rules?t.rules:JSON.stringify(t.rules)},...t.transform&&{transform:"string"==typeof t.transform?t.transform:JSON.stringify(t.transform)},...void 0!==t.delay_start&&{delay_start:t.delay_start},...void 0!==t.retry_delay&&{retry_delay:t.retry_delay},...void 0!==t.max_retries&&{max_retries:t.max_retries},...t.extrameta&&{extrameta:"string"==typeof t.extrameta?t.extrameta:JSON.stringify(t.extrameta)},...void 0!==t.disabled&&{disabled:t.disabled}};return n.post("/core/space/".concat(e,"/events"),a)},eu=async(e,t,a)=>{let s={};return void 0!==a.event_key&&(s.event_key=a.event_key),void 0!==a.target_type&&(s.target_type=a.target_type),void 0!==a.space_id&&(s.space_id=a.space_id),void 0!==a.target_endpoint&&(s.target_endpoint=a.target_endpoint),void 0!==a.target_options&&(s.target_options="string"==typeof a.target_options?a.target_options:JSON.stringify(a.target_options)),void 0!==a.target_code&&(s.target_code=a.target_code),void 0!==a.rules&&(s.rules="string"==typeof a.rules?a.rules:JSON.stringify(a.rules)),void 0!==a.transform&&(s.transform="string"==typeof a.transform?a.transform:JSON.stringify(a.transform)),void 0!==a.delay_start&&(s.delay_start=a.delay_start),void 0!==a.retry_delay&&(s.retry_delay=a.retry_delay),void 0!==a.max_retries&&(s.max_retries=a.max_retries),void 0!==a.extrameta&&(s.extrameta="string"==typeof a.extrameta?a.extrameta:JSON.stringify(a.extrameta)),void 0!==a.disabled&&(s.disabled=a.disabled),n.put("/core/space/".concat(e,"/events/").concat(t),s)},ey=async(e,t)=>n.delete("/core/space/".concat(e,"/events/").concat(t)),eg=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a={limit:t};return null!=e&&(a.after_id=e),n.get("/core/user/messages",{params:a})},ef=async()=>n.get("/core/user/messages/new"),ev=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return n.get("/core/user/messages/history",{params:{limit:e}})},em=async e=>n.post("/core/user/messages",e),e_=async e=>n.delete("/core/user/messages/".concat(e)),eh=async e=>n.post("/core/user/messages/".concat(e,"/read")),ex=async()=>n.post("/core/user/messages/read-all"),ek=async()=>n.get("/core/docs/docs_index.json"),eb=async e=>n.get("/core/docs/".concat(e)),ew=async e=>n.get("/capabilities/debug/".concat(e)),eC=async e=>n.get("/core/space/".concat(e,"/spec.json"))},3588:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5155),c=a(8738);let n=e=>{let{onClose:t}=e;return(0,s.jsx)("button",{className:"text-gray-400 hover:text-gray-600 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,s.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},o=()=>{let{modal:e}=(0,c.i)(),{isOpen:t,modalContent:a,closeModal:o}=e;return t&&a?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:o}),(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,s.jsx)(n,{onClose:o}),a.title&&(0,s.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.title})}),(0,s.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,s.jsx)(n,{onClose:o})]})]}):null}},3999:(e,t,a)=>{a.d(t,{MH:()=>n,NC:()=>c,a1:()=>o});let s="_potato_login_info_",c=(e,t)=>{localStorage.setItem(s,JSON.stringify({accessToken:e,userInfo:t}))},n=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):null},o=()=>{localStorage.removeItem(s)}},4678:(e,t,a)=>{a.d(t,{$V:()=>c.$V,AC:()=>c.AC,B9:()=>c.B9,Cs:()=>c.Cs,De:()=>c.De,Ed:()=>c.Ed,H1:()=>c.H1,H4:()=>c.H4,K4:()=>c.K4,Kh:()=>c.Kh,Lv:()=>c.Lv,MA:()=>c.MA,MH:()=>s.MH,NC:()=>s.NC,Nv:()=>c.Nv,Om:()=>c.Om,P6:()=>c.P6,Pj:()=>c.Pj,QT:()=>c.QT,Qf:()=>c.Qf,Qk:()=>c.Qk,R5:()=>c.R5,Sx:()=>c.Sx,T:()=>c.T,TT:()=>c.TT,TY:()=>c.TY,Tv:()=>c.Tv,U8:()=>c.U8,VG:()=>c.VG,Y3:()=>c.Y3,ZN:()=>c.ZN,_Q:()=>c._Q,_m:()=>c._m,a1:()=>s.a1,ct:()=>c.ct,e0:()=>c.e0,eK:()=>c.eK,fB:()=>c.fB,iY:()=>c.iY,lB:()=>c.lB,lo:()=>c.lo,q0:()=>c.q0,qf:()=>c.qf,rf:()=>c.rf,s2:()=>c.s2,tF:()=>c.tF,to:()=>c.to,u1:()=>c.u1,uP:()=>c.uP,yn:()=>c.yn,z6:()=>c.z6});var s=a(3999),c=a(1886)},8738:(e,t,a)=>{a.d(t,{H:()=>i,i:()=>r});var s=a(5155),c=a(2115),n=a(993);let o=(0,c.createContext)(null),r=()=>{let e=(0,c.useContext)(o);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},i=e=>{let{children:t}=e,a=(0,n.bH)();return(0,s.jsx)(o.Provider,{value:a,children:t})}}}]);