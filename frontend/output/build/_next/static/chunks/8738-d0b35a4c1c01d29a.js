"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8738],{993:(e,t,a)=>{a.d(t,{ii:()=>s.i,bH:()=>c});var n=a(4678),o=a(2115);let c=()=>{let[e,t]=(0,o.useState)(!1),[a,c]=(0,o.useState)(!1),[s,r]=(0,o.useState)(null),i=(()=>{let[e,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(null),c=(0,o.useCallback)(e=>{n(e),t(!0)},[]),s=(0,o.useCallback)(()=>{t(!1),(null==a?void 0:a.onClose)&&a.onClose(),setTimeout(()=>{n(null)},150)},[a]),r=(0,o.useCallback)(e=>{a&&n({...a,...e})},[a]);return{isOpen:e,modalContent:a,openModal:c,closeModal:s,updateModalContent:r}})(),[l,p]=(0,o.useState)(!1),d=()=>{let e=(0,n.MH)();(null==e?void 0:e.accessToken)?(r(e.userInfo),c(!0)):c(!1),t(!0)};return(0,o.useEffect)(()=>{e&&a&&(l||((0,n.Y3)(),p(!0)))},[e,a]),(0,o.useEffect)(()=>{d()},[]),{loaded:e,isAuthenticated:a,checkToken:d,logOut:()=>{(0,n.a1)(),r(null),c(!1)},logIn:(e,t)=>{(0,n.NC)(e,t),d()},userInfo:s,modal:i,isInitialized:l}};var s=a(8738);a(3588)},1886:(e,t,a)=>{a.d(t,{$V:()=>z,$c:()=>d,AC:()=>j,B9:()=>M,BA:()=>h,Cs:()=>X,De:()=>B,Ed:()=>C,H1:()=>el,H4:()=>eu,IF:()=>k,K4:()=>m,Kh:()=>ep,Lv:()=>q,MA:()=>D,Nv:()=>eo,Om:()=>ea,Oz:()=>p,P6:()=>ei,Pj:()=>$,QD:()=>u,QT:()=>W,Qf:()=>P,Qk:()=>en,Ql:()=>f,R5:()=>Y,Sx:()=>U,T:()=>et,TT:()=>G,TY:()=>ee,Tv:()=>F,U8:()=>L,VG:()=>H,Y3:()=>s,ZN:()=>R,_m:()=>v,ct:()=>E,e0:()=>J,eK:()=>V,eq:()=>g,fB:()=>N,gw:()=>em,iD:()=>r,iJ:()=>_,iQ:()=>x,iY:()=>I,ir:()=>y,iu:()=>w,j3:()=>b,lB:()=>K,lo:()=>i,mm:()=>ev,no:()=>ey,q0:()=>Z,qR:()=>eh,qf:()=>ec,rf:()=>ed,s2:()=>S,sI:()=>ef,tF:()=>T,to:()=>es,u1:()=>Q,uP:()=>O,wz:()=>l,yj:()=>eg,yn:()=>A,z6:()=>er});var n=a(3464),o=a(3999);let c=n.A.create({baseURL:"/zz/api"}),s=()=>{let e=(0,o.MH)(),t={"Content-Type":"application/json","X-Clacks-Overhead":"Aaron Swartz"};(null==e?void 0:e.accessToken)&&(t.Authorization="TokenV1 ".concat(e.accessToken)),c=n.A.create({baseURL:"/zz/api",headers:t})},r=async(e,t)=>c.post("/core/auth/login",{username:e,password:t}),i=async()=>c.get("/core/user"),l=async e=>c.get("/core/user/".concat(e)),p=async()=>c.get("/core/user/invites"),d=async e=>c.post("/core/user/invites",e),u=async e=>c.delete("/core/user/invites/".concat(e)),g=async e=>c.post("/core/user/invites/".concat(e,"/resend")),y=async e=>c.get("/core/auth/invite/".concat(e)),f=async(e,t)=>c.post("/core/auth/invite/".concat(e),t),v=async e=>c.post("/core/user/create",e),m=async()=>c.get("/core/user/groups"),h=async e=>c.post("/core/user/groups",e),_=async(e,t)=>c.put("/core/user/groups/".concat(e),t),k=async e=>c.delete("/core/user/groups/".concat(e)),x=async e=>c.get("/core/self/portalData/".concat(e)),b=async()=>c.get("/core/self/info"),w=async e=>c.put("/core/self/bio",{bio:e}),C=async e=>c.post("/core/package/install",{url:e}),T=async e=>c.post("/core/package/install/zip",e,{headers:{"Content-Type":"application/zip"}}),N=async(e,t)=>c.post("/core/package/install/embed",{name:e,repo_slug:t}),S=async e=>c.delete("/core/package/".concat(e)),j=async e=>c.post("/core/package/".concat(e,"/dev-token")),z=async e=>{let t=e?"?repo=".concat(encodeURIComponent(e)):"";return c.get("/core/package/list".concat(t))},O=async()=>c.get("/core/repo/list"),A=async()=>c.get("/core/space/installed"),H=async e=>c.get("/core/package/".concat(e,"/info")),B=async(e,t)=>{let a=encodeURIComponent(t);return c.get("/core/engine/space_info/".concat(e,"?host_name=").concat(a.toString()))},Q=async(e,t)=>c.post("/core/space/authorize/".concat(e),{space_id:t}),D=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c.get("/core/vpackage/".concat(e,"/files"),{params:{path:t}})},F=async(e,t)=>c.get("/core/vpackage/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),J=async(e,t)=>c.delete("/core/vpackage/".concat(e,"/files/").concat(t)),L=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=new FormData;return n.append("file",t),n.append("path",a),c.post("/core/vpackage/".concat(e,"/files/upload"),n,{headers:{"Content-Type":"multipart/form-data"}})},M=async function(e,t,a,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await J(e,t);let s=new File([new Blob([a],{type:"text/plain"})],n,{type:"text/plain"}),r=new FormData;return r.append("file",s),r.append("path",o),c.post("/core/vpackage/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},P=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return c.get("/core/space/".concat(e,"/kv"),{params:{offset:t,limit:a}})},Y=async(e,t)=>c.get("/core/space/".concat(e,"/kv/").concat(t)),I=async(e,t)=>c.post("/core/space/".concat(e,"/kv"),t),K=async(e,t,a)=>c.put("/core/space/".concat(e,"/kv/").concat(t),a),q=async(e,t)=>c.delete("/core/space/".concat(e,"/kv/").concat(t)),E=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c.get("/core/space/".concat(e,"/files"),{params:{path:t}})},R=async(e,t)=>c.get("/core/space/".concat(e,"/files/").concat(t,"/download"),{responseType:"blob"}),U=async(e,t)=>c.delete("/core/space/".concat(e,"/files/").concat(t)),V=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=new FormData;return n.append("file",t),n.append("path",a),c.post("/core/space/".concat(e,"/files/upload"),n,{headers:{"Content-Type":"multipart/form-data"}})},G=async function(e,t,a,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await U(e,t);let s=new File([new Blob([a],{type:"text/plain"})],n,{type:"text/plain"}),r=new FormData;return r.append("file",s),r.append("path",o),c.post("/core/space/".concat(e,"/files/upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},$=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return c.post("/core/space/".concat(e,"/files/folder"),{name:t,path:a})},Z=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;return c.post("/core/space/".concat(e,"/files/presigned"),{file_name:t,path:a,expiry:n})},W=async(e,t)=>{let a=new FormData;return a.append("file",t),n.A.post("/zz/file/upload-presigned?presigned-key=".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})},X=async()=>c.get("/core/capability/types"),ee=async(e,t,a)=>c.get("/core/space/".concat(e,"/capabilities"),{params:{...void 0!==t&&{space_id:t},...a&&{capability_type:a}}}),et=async(e,t)=>c.post("/core/space/".concat(e,"/capabilities"),t),ea=async(e,t,a)=>c.put("/core/space/".concat(e,"/capabilities/").concat(t),a),en=async(e,t)=>c.delete("/core/space/".concat(e,"/capabilities/").concat(t)),eo=async(e,t,a,n)=>c.get("/core/space/".concat(e,"/users"),{params:{...void 0!==t&&{space_id:t},...void 0!==a&&{user_id:a},...n&&{scope:n}}}),ec=async(e,t)=>c.post("/core/space/".concat(e,"/users"),t),es=async(e,t,a)=>c.put("/core/space/".concat(e,"/users/").concat(t),a),er=async(e,t)=>c.delete("/core/space/".concat(e,"/users/").concat(t)),ei=async(e,t,a)=>c.get("/core/space/".concat(e,"/events"),{params:{...void 0!==t&&{space_id:t},...a&&{event_key:a}}}),el=async(e,t)=>c.get("/core/space/".concat(e,"/events/").concat(t)),ep=async(e,t)=>{let a={event_key:t.event_key,target_type:t.target_type,...void 0!==t.space_id&&{space_id:t.space_id},...t.target_endpoint&&{target_endpoint:t.target_endpoint},...t.target_options&&{target_options:"string"==typeof t.target_options?t.target_options:JSON.stringify(t.target_options)},...t.target_code&&{target_code:t.target_code},...t.rules&&{rules:"string"==typeof t.rules?t.rules:JSON.stringify(t.rules)},...t.transform&&{transform:"string"==typeof t.transform?t.transform:JSON.stringify(t.transform)},...t.extrameta&&{extrameta:"string"==typeof t.extrameta?t.extrameta:JSON.stringify(t.extrameta)},...void 0!==t.disabled&&{disabled:t.disabled}};return c.post("/core/space/".concat(e,"/events"),a)},ed=async(e,t,a)=>{let n={};return void 0!==a.event_key&&(n.event_key=a.event_key),void 0!==a.target_type&&(n.target_type=a.target_type),void 0!==a.space_id&&(n.space_id=a.space_id),void 0!==a.target_endpoint&&(n.target_endpoint=a.target_endpoint),void 0!==a.target_options&&(n.target_options="string"==typeof a.target_options?a.target_options:JSON.stringify(a.target_options)),void 0!==a.target_code&&(n.target_code=a.target_code),void 0!==a.rules&&(n.rules="string"==typeof a.rules?a.rules:JSON.stringify(a.rules)),void 0!==a.transform&&(n.transform="string"==typeof a.transform?a.transform:JSON.stringify(a.transform)),void 0!==a.extrameta&&(n.extrameta="string"==typeof a.extrameta?a.extrameta:JSON.stringify(a.extrameta)),void 0!==a.disabled&&(n.disabled=a.disabled),c.put("/core/space/".concat(e,"/events/").concat(t),n)},eu=async(e,t)=>c.delete("/core/space/".concat(e,"/events/").concat(t)),eg=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a={limit:t};return null!=e&&(a.after_id=e),c.get("/core/user/messages",{params:a})},ey=async()=>c.get("/core/user/messages/new"),ef=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return c.get("/core/user/messages/history",{params:{limit:e}})},ev=async e=>c.delete("/core/user/messages/".concat(e)),em=async e=>c.post("/core/user/messages/".concat(e,"/read")),eh=async()=>c.post("/core/user/messages/read-all")},3588:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(5155),o=a(8738);let c=e=>{let{onClose:t}=e;return(0,n.jsx)("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 absolute top-4 right-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1 transition-colors","aria-label":"close",onClick:t,children:(0,n.jsxs)("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},s=()=>{let{modal:e}=(0,o.i)(),{isOpen:t,modalContent:a,closeModal:s}=e;return t&&a?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:s}),(0,n.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl ".concat((e=>{switch(e){case"sm":return"w-80 md:w-96";case"md":default:return"w-96 md:w-auto";case"lg":return"w-full max-w-2xl";case"xl":return"w-full max-w-4xl";case"full":return"w-full h-full max-w-none"}})(a.size)," max-h-[90vh] overflow-hidden"),children:[(0,n.jsx)(c,{onClose:s}),a.title&&(0,n.jsx)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.title})}),(0,n.jsx)("div",{className:"p-6",children:a.content}),!a.title&&(0,n.jsx)(c,{onClose:s})]})]}):null}},3999:(e,t,a)=>{a.d(t,{MH:()=>c,NC:()=>o,a1:()=>s});let n="_tnx_login_info_",o=(e,t)=>{localStorage.setItem(n,JSON.stringify({accessToken:e,userInfo:t}))},c=()=>{let e=localStorage.getItem(n);return e?JSON.parse(e):null},s=()=>{localStorage.removeItem(n)}},4678:(e,t,a)=>{a.d(t,{$V:()=>o.$V,AC:()=>o.AC,B9:()=>o.B9,Cs:()=>o.Cs,De:()=>o.De,Ed:()=>o.Ed,H1:()=>o.H1,H4:()=>o.H4,K4:()=>o.K4,Kh:()=>o.Kh,Lv:()=>o.Lv,MA:()=>o.MA,MH:()=>n.MH,NC:()=>n.NC,Nv:()=>o.Nv,Om:()=>o.Om,P6:()=>o.P6,Pj:()=>o.Pj,QT:()=>o.QT,Qf:()=>o.Qf,Qk:()=>o.Qk,R5:()=>o.R5,Sx:()=>o.Sx,T:()=>o.T,TT:()=>o.TT,TY:()=>o.TY,Tv:()=>o.Tv,U8:()=>o.U8,VG:()=>o.VG,Y3:()=>o.Y3,ZN:()=>o.ZN,_m:()=>o._m,a1:()=>n.a1,ct:()=>o.ct,e0:()=>o.e0,eK:()=>o.eK,fB:()=>o.fB,iY:()=>o.iY,lB:()=>o.lB,lo:()=>o.lo,q0:()=>o.q0,qf:()=>o.qf,rf:()=>o.rf,s2:()=>o.s2,tF:()=>o.tF,to:()=>o.to,u1:()=>o.u1,uP:()=>o.uP,yn:()=>o.yn,z6:()=>o.z6});var n=a(3999),o=a(1886)},8738:(e,t,a)=>{a.d(t,{H:()=>i,i:()=>r});var n=a(5155),o=a(2115),c=a(993);let s=(0,o.createContext)(null),r=()=>{let e=(0,o.useContext)(s);if(!e)throw Error("useGAppState must be used within an GAppStateContext");return e},i=e=>{let{children:t}=e,a=(0,c.bH)();return(0,n.jsx)(s.Provider,{value:a,children:t})}}}]);